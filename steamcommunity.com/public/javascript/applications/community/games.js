/**** (c) Valve Corporation. Use is governed by the terms of the Steam Subscriber Agreement http://store.steampowered.com/subscriber_agreement/.
 ****/
(self.webpackChunkcommunity = self.webpackChunkcommunity || []).push([
  [3903],
  {
    27522: (e) => {
      e.exports = {
        "duration-app-launch": "800ms",
        Icon: "achievementiconbase_Icon_2bzHb",
        IconGlow: "achievementiconbase_IconGlow_tH67c",
        AchievementIconWrapper:
          "achievementiconbase_AchievementIconWrapper_373lE",
        RareAchievementIconGlowContainerRoot:
          "achievementiconbase_RareAchievementIconGlowContainerRoot_39Cht",
        RareAchievementIconGlowContainer:
          "achievementiconbase_RareAchievementIconGlowContainer_leuGO",
        rotate: "achievementiconbase_rotate_1Mdch",
        RareAchievementNoAnimation:
          "achievementiconbase_RareAchievementNoAnimation_25gJm",
        RareAchievementIconGlow:
          "achievementiconbase_RareAchievementIconGlow_rORbR",
        HiddenLabel: "achievementiconbase_HiddenLabel_2yMyP",
      };
    },
    76478: (e) => {
      e.exports = {
        ProgressBar: "progressbar_ProgressBar_yZ55N",
        AnimateProgress: "progressbar_AnimateProgress_1Ccdv",
        loadingBarAnim: "progressbar_loadingBarAnim_BX2Tm",
        Indeterminate: "progressbar_Indeterminate_1sxT4",
      };
    },
    89729: (e) => {
      e.exports = {
        GameHeight: "140px",
        GamePadding: "10px",
        RemoteControlsHeight: "56px",
        MobileBreakpoint: "30rem",
      };
    },
    33672: (e) => {
      e.exports = {
        GameHeight: "140px",
        GamePadding: "10px",
        RemoteControlsHeight: "56px",
        MobileBreakpoint: "30rem",
        Gameslistapp: "gameslistapp_Gameslistapp_2nl8H",
        DisplayControls: "gameslistapp_DisplayControls_2_BHL",
        FilterInput: "gameslistapp_FilterInput_24EKv",
        SortOptions: "gameslistapp_SortOptions_3pgJX",
        SortOption: "gameslistapp_SortOption_YcplN",
        SelectedSort: "gameslistapp_SelectedSort_MA0Ih",
        BothOwnedFilter: "gameslistapp_BothOwnedFilter_NKeON",
        MeasurementContainer: "gameslistapp_MeasurementContainer_ZmRLu",
        PrivacySettingsLink: "gameslistapp_PrivacySettingsLink_mRoic",
      };
    },
    1086: (e) => {
      e.exports = {
        Filter: "gameslistfilter_Filter_ZQQNQ",
        ClearButton: "gameslistfilter_ClearButton_2iq6O",
        SearchIcon: "gameslistfilter_SearchIcon_QptTj",
      };
    },
    19766: (e) => {
      e.exports = {
        GameHeight: "140px",
        GamePadding: "10px",
        RemoteControlsHeight: "56px",
        MobileBreakpoint: "30rem",
        List: "gameslistitems_List_3tY9v",
        GamesListItemContainer: "gameslistitems_GamesListItemContainer_29H3o",
        GamesListItem: "gameslistitems_GamesListItem_2-pQF",
        Changing: "gameslistitems_Changing_2virZ",
        NavButton: "gameslistitems_NavButton_3aNUl",
        GameItemPortrait: "gameslistitems_GameItemPortrait_1bAC6",
        FallbackTitle: "gameslistitems_FallbackTitle_MHfYK",
        PortraitContainer: "gameslistitems_PortraitContainer_1CHM8",
        HasAdultContent: "gameslistitems_HasAdultContent_2jXu5",
        GameNameContainer: "gameslistitems_GameNameContainer_w6q9p",
        GameName: "gameslistitems_GameName_22awl",
        Playtime: "gameslistitems_Playtime_2Eeyh",
        Hours: "gameslistitems_Hours_26nl3",
        Hours2weeks: "gameslistitems_Hours2weeks_1_mJZ",
        LastPlayed: "gameslistitems_LastPlayed_2jglu",
        FactLabel: "gameslistitems_FactLabel_2L1rk",
        AchievementContainer: "gameslistitems_AchievementContainer_38RhR",
        AchievementsProgress: "gameslistitems_AchievementsProgress_3L-qR",
        Buttons: "gameslistitems_Buttons_1uRB5",
        GameLinks: "gameslistitems_GameLinks_35fxd",
        GameLinksButton: "gameslistitems_GameLinksButton_1pXbX",
        AppPrivateIndicator: "gameslistitems_AppPrivateIndicator_2UkkK",
        DownloadStatus: "gameslistitems_DownloadStatus_bDhei",
        PerfectRibbon: "gameslistitems_PerfectRibbon_1uKlf",
        ContentLinks: "gameslistitems_ContentLinks_1yvGN",
        StatLinks: "gameslistitems_StatLinks_1sruH",
        BottomSheetContainer: "gameslistitems_BottomSheetContainer_3EfAk",
        BottomSheetOverlay: "gameslistitems_BottomSheetOverlay_3M4Jf",
        BottomSheet: "gameslistitems_BottomSheet_2ywCP",
        GameInfo: "gameslistitems_GameInfo_36tJr",
        Facts: "gameslistitems_Facts_34z3M",
        GameTitle: "gameslistitems_GameTitle_3RUE8",
        AchievementIcons: "gameslistitems_AchievementIcons_6o-Nn",
        Portrait: "gameslistitems_Portrait_3MzPl",
        BlurredBackground: "gameslistitems_BlurredBackground_r1Y-M",
        BottomSheetSection: "gameslistitems_BottomSheetSection_NZhfS",
        SectionContent: "gameslistitems_SectionContent_1ynpS",
        BottomSheetRemoteControls:
          "gameslistitems_BottomSheetRemoteControls_2gji1",
        BottomSheetLink: "gameslistitems_BottomSheetLink_34fh9",
        ClientName: "gameslistitems_ClientName_1Jcm1",
        NavDropdownMenu: "gameslistitems_NavDropdownMenu_1Hvmx",
        AchievementIcon: "gameslistitems_AchievementIcon_2J4HY",
        Remainder: "gameslistitems_Remainder_fVmXu",
        AchievementHover: "gameslistitems_AchievementHover_1Whe1",
        Background: "gameslistitems_Background_OMxTb",
        Blur: "gameslistitems_Blur_BPScs",
        TopSection: "gameslistitems_TopSection_3OoXT",
        TextSection: "gameslistitems_TextSection_3sCHJ",
        Name: "gameslistitems_Name_2jbhF",
        Unlocked: "gameslistitems_Unlocked_1UIA3",
        RareLabel: "gameslistitems_RareLabel_3g9oI",
        AchievementsProgressBar: "gameslistitems_AchievementsProgressBar_3Z3qp",
        AchievementsProgressLabel:
          "gameslistitems_AchievementsProgressLabel_3eZML",
        AchievementsFraction: "gameslistitems_AchievementsFraction_1YRRM",
        emptyDescription: "gameslistitems_emptyDescription_3oj8b",
        GamepadNavigationDropdown:
          "gameslistitems_GamepadNavigationDropdown_Ml4QU",
        GamepadNavigationDropdownButton:
          "gameslistitems_GamepadNavigationDropdownButton_2u7K0",
        placeholderPulse: "gameslistitems_placeholderPulse_3qZsO",
        rotate: "gameslistitems_rotate_1TDtt",
      };
    },
    3980: (e) => {
      e.exports = {
        GameHeight: "140px",
        GamePadding: "10px",
        RemoteControlsHeight: "56px",
        MobileBreakpoint: "30rem",
        ClientSelectDropdown: "gameslistremote_ClientSelectDropdown_2Z6JL",
        ClientListDropdownMenu: "gameslistremote_ClientListDropdownMenu_22iS0",
        RemoteDownloadClientBar:
          "gameslistremote_RemoteDownloadClientBar_hQ4Q9",
        RemoteDownloadHeader: "gameslistremote_RemoteDownloadHeader_UVZ1r",
        InfoIcon: "gameslistremote_InfoIcon_3TWnE",
        ClientIndicator: "gameslistremote_ClientIndicator_2XcV9",
        NoConnection: "gameslistremote_NoConnection_E0OMi",
        RemoteDownloadStatus: "gameslistremote_RemoteDownloadStatus_14QBd",
        RemoteDownloadHelp: "gameslistremote_RemoteDownloadHelp_1pQIr",
        NoConnectionText: "gameslistremote_NoConnectionText_1A0df",
        LearnMoreCta: "gameslistremote_LearnMoreCta_3XDsb",
        DownloadBarWithLabel: "gameslistremote_DownloadBarWithLabel_14YOd",
        DownloadStatus: "gameslistremote_DownloadStatus_2JtXw",
        DownloadProgress: "gameslistremote_DownloadProgress_2b6Qy",
        CurrentSpace: "gameslistremote_CurrentSpace_3_zPY",
        DownloadEstimate: "gameslistremote_DownloadEstimate_2QWHY",
        DownloadBar: "gameslistremote_DownloadBar_4ZW4i",
        RemoteControls: "gameslistremote_RemoteControls_1Fput",
        ButtonContainer: "gameslistremote_ButtonContainer_2mckt",
        NoRemoteControl: "gameslistremote_NoRemoteControl_217Ei",
        DownloadSize: "gameslistremote_DownloadSize_2zfId",
        UpdateSchedule: "gameslistremote_UpdateSchedule__nq0r",
        DownloadIconButton: "gameslistremote_DownloadIconButton_2P659",
        DownloadBarContainer: "gameslistremote_DownloadBarContainer_2Qx7n",
      };
    },
    54129: (e) => {
      e.exports = {
        WishlistTab: "gameslisttabs_WishlistTab_1BZR3",
        tabList: "gameslisttabs_tabList_1sHAC",
        TabBaseline: "gameslisttabs_TabBaseline_2gC9I",
        SelectBaseline: "gameslisttabs_SelectBaseline_1qj0p",
      };
    },
    13043: (e, t, n) => {
      "use strict";
      n.d(t, { p: () => m });
      var a = n(85556),
        s = n(47427),
        i = n(82493),
        r = n(4030),
        o = n(20417),
        l = n(37563),
        c = n(35643);
      function m(e) {
        const { children: t, navTreeRef: n } = e,
          m = (0, a._T)(e, ["children", "navTreeRef"]),
          d = s.useRef(),
          u = (0, o.BE)(d, n),
          p = (0, l.id)(),
          _ = window.__virtual_keyboard_client;
        if (p) {
          const e = window.__nav_tree_root;
          return s.createElement(
            i.Fe,
            Object.assign({}, m, {
              navTreeRef: u,
              secondary: !0,
              parentEmbeddedNavTree: e,
            }),
            s.createElement(
              c.o5,
              { factory: _ },
              s.createElement(r.O, null, t),
            ),
          );
        }
        return s.createElement(s.Fragment, null, t);
      }
    },
    22520: (e, t, n) => {
      "use strict";
      n.d(t, { Am: () => c, kI: () => r, x3: () => l });
      var a = n(37563),
        s = n(48760),
        i = n(62210);
      const r = 0,
        o = "061818254b2c99ac49e6626adb128ed1282a392f",
        l = 120;
      class c {
        constructor(e) {
          (this.m_bInitialized = !1), (this.m_unAppID = e);
        }
        get appid() {
          return this.m_unAppID;
        }
        get is_initialized() {
          return this.m_bInitialized;
        }
        get is_valid() {
          return this.m_bInitialized && !!this.m_strName;
        }
        get name() {
          return this.m_strName;
        }
        get header_image_url() {
          return a.De.MEDIA_CDN_URL + `steam/apps/${this.m_unAppID}/header.jpg`;
        }
        get icon_url_no_default() {
          return this.m_strIconURL && this.BuildAppURL(this.m_strIconURL, o);
        }
        get icon_url() {
          return this.BuildAppURL(this.m_strIconURL, o);
        }
        get logo_url() {
          return (
            a.De.MEDIA_CDN_URL +
            `steam/apps/${this.m_unAppID}/capsule_231x87.jpg`
          );
        }
        get time_updated_from_server() {
          return this.m_dtUpdatedFromServer;
        }
        get apptype() {
          return this.m_eAppType;
        }
        BIsApplicationOrTool() {
          return 4 == this.apptype || 2 == this.apptype;
        }
        BuildAppURL(e, t) {
          return e
            ? a.De.MEDIA_CDN_COMMUNITY_URL +
                "images/apps/" +
                this.appid +
                "/" +
                e +
                ".jpg"
            : (0, s.U)(t);
        }
        DeserializeFromMessage(e) {
          (this.m_bInitialized = !0),
            (this.m_strName = e.name()),
            (this.m_strIconURL = e.icon()),
            (this.m_dtUpdatedFromServer = new Date()),
            (this.m_eAppType = e.app_type());
        }
        DeserializeFromAppOverview(e) {
          e.icon_hash() && 1073741824 != e.app_type()
            ? ((this.m_bInitialized = !0),
              (this.m_strName = e.display_name()),
              (this.m_strIconURL = e.icon_hash()),
              (this.m_dtUpdatedFromServer = new Date()),
              (this.m_eAppType = e.app_type()))
            : (this.m_bInitialized = !1);
        }
        DeserializeFromCacheObject(e) {
          try {
            (this.m_strName = e.strName),
              (this.m_strIconURL = e.strIconURL),
              (this.m_dtUpdatedFromServer = new Date(e.strUpdatedFromServer)),
              (this.m_eAppType = e.eAppType),
              (this.m_bInitialized = !0);
          } catch (e) {}
        }
        SerializeToCacheObject() {
          return (
            (0, i.X)(
              this.m_bInitialized,
              "Attempting to serialize an uninitialized AppInfo object for caching!",
            ),
            this.m_bInitialized
              ? {
                  strName: this.m_strName,
                  strIconURL: this.m_strIconURL,
                  strUpdatedFromServer: this.m_dtUpdatedFromServer.toJSON(),
                  eAppType: this.m_eAppType,
                }
              : null
          );
        }
      }
    },
    48760: (e, t, n) => {
      "use strict";
      n.d(t, { U: () => i, W: () => s });
      var a = n(37563);
      const s = "fef49e7fa7e1997310d705b2a6158ff8dc1cdfeb";
      function i(e, t) {
        let n = ".jpg";
        (e && "0000000000000000000000000000000000000000" !== e) || (e = s),
          44 == e.length && ((n = e.substr(-4)), (e = e.substr(0, 40)));
        let i = a.De.AVATAR_BASE_URL;
        return (
          i ||
            ((i = a.De.MEDIA_CDN_COMMUNITY_URL + "images/avatars/"),
            (i += e.substr(0, 2) + "/")),
          (i += e),
          t && "small" != t && (i += "_" + t),
          (i += n),
          i
        );
      }
    },
    71472: (e, t, n) => {
      "use strict";
      n.d(t, { Ar: () => l, Wo: () => c, i9: () => o, ks: () => i });
      var a = n(47427),
        s = n(8285);
      function i(e, t) {
        let n;
        "string" == typeof e
          ? (n = e)
          : "location" in e
            ? (n = e.location.search)
            : "search" in e && (n = e.search);
        const a = new URLSearchParams(n.substring(1));
        if (a.has(t)) {
          const e = a.getAll(t);
          return e[e.length - 1];
        }
      }
      const r = (e) => null != e;
      function o(e, t, n, a = !1) {
        const s = new URLSearchParams(e.location.search.substring(1));
        s.delete(t),
          r(n) && s.append(t, n),
          a
            ? e.replace(`?${s.toString()}`, Object.assign({}, e.location.state))
            : e.push(`?${s.toString()}`);
      }
      function l(e, t) {
        const n = (0, s.k6)(),
          l = (0, s.TH)(),
          c = (0, a.useMemo)(() => {
            const n = i(l.search, e);
            return r(n)
              ? r(t)
                ? "boolean" == typeof t
                  ? t.constructor("false" !== n)
                  : t.constructor(n)
                : n
              : t;
          }, [l.search, e, t]),
          m = (0, a.useCallback)(
            (t) => {
              o(n, e, r(t) ? String(t) : null);
            },
            [n, e],
          );
        return [c, m];
      }
      function c(e, t, n = !1) {
        const a = new URLSearchParams(e.location.search.substring(1));
        for (const e in t)
          if (t.hasOwnProperty(e)) {
            const n = t[e];
            a.delete(e), r(n) && a.append(e, n);
          }
        n
          ? e.replace(`?${a.toString()}`, Object.assign({}, e.location.state))
          : e.push(`?${a.toString()}`);
      }
    },
    29480: (e, t, n) => {
      "use strict";
      n.d(t, { T: () => r });
      var a = n(80751),
        s = n.n(a),
        i = n(47427);
      function r(e) {
        const t = i.useRef(s().CancelToken.source());
        return (
          i.useEffect(() => {
            const n = t.current;
            return () => n.cancel(e ? `${e}: unmounting` : "unmounting");
          }, [e]),
          t.current
        );
      }
    },
    54117: (e, t, n) => {
      "use strict";
      n.d(t, { W: () => s });
      var a = n(31846);
      function s(e, t = "#Played_", n = !1) {
        if (e >= 120) {
          let n = e / 60;
          n = Math.round(10 * n) / 10;
          let s = a.Yt.GetPreferredLocales(),
            i = n.toLocaleString(s, {
              minimumFractionDigits: 0,
              maximumFractionDigits: 1,
            });
          return (0, a.Xx)(t + "Hours", i);
        }
        return n && 1 == e
          ? (0, a.Xx)(t + "Minute", e)
          : (0, a.Xx)(t + "Minutes", e);
      }
    },
    68761: (e, t, n) => {
      "use strict";
      n.d(t, { _: () => a });
      let a = { ProfileURL: "" };
    },
    39047: (e, t, n) => {
      "use strict";
      n.r(t), n.d(t, { default: () => xn });
      var a = n(85556),
        s = n(47427),
        i = n(42718),
        r = n(79545),
        o = n(40057),
        l = n(77581),
        c = n(82182),
        m = n(48746),
        d = n(54879);
      const u = new Map(),
        p = new Map();
      function _(e) {
        const t = (0, i.useQueryClient)(),
          n = (0, i.hashQueryKey)(e.batchKey),
          s = (0, i.hashQueryKey)(e.queryKey);
        return (0, i.useQuery)({
          queryKey: [e.batchKey, s],
          queryFn: () => {
            let i = u.get(n);
            return (
              i || ((i = new Map()), u.set(n, i)),
              i.set(s, e.request),
              new Promise((s, i) => {
                if (p.get(n)) return;
                const r = setTimeout(
                  () =>
                    (0, a.mG)(this, void 0, void 0, function* () {
                      try {
                        const a = u.get(n),
                          s = Array.from(a.keys()),
                          i = Array.from(a.values());
                        a.clear(), p.delete(n);
                        const r = yield e.queryFn(i);
                        i.forEach((n, a) => {
                          t.setQueryData(
                            [e.batchKey, s[a]],
                            e.requestMatcher
                              ? r.find((t) => e.requestMatcher(n, t))
                              : r[a],
                          );
                        });
                      } catch (e) {
                        i(e);
                      }
                    }),
                  e.batchDuration,
                );
                p.set(n, r);
              })
            );
          },
          enabled: e.enabled,
        });
      }
      var g = n(2041),
        f = n(37563),
        h = n(68761);
      function v(e) {
        let t = e
          .replace(/^the\s/i, "")
          .replace(/^a\s/i, "")
          .replace(/^[^\w]+/u, "");
        if (t != e) return t;
      }
      function y(e) {
        if (!(e < 1e5)) return e;
      }
      class E {
        static Get() {
          return this.s_Singleton
            ? this.s_Singleton
            : (this.s_Singleton = new E(
                (0, f.kQ)("config", "profile_config"),
                (0, f.kQ)("profile-gameslist", "gameslist_config"),
              ));
        }
        constructor(e, t) {
          var n, a, s, r, o, l, c;
          (this.rgGameslistConfig = t),
            (this.setExcludedContentDescriptorIds = new Set()),
            e && Object.assign(h._, e),
            this.BViewingOwnProfile() ||
              null ===
                (s =
                  null ===
                    (a =
                      null === (n = this.rgGameslistConfig) || void 0 === n
                        ? void 0
                        : n.rgContentDescriptorPreferences) || void 0 === a
                    ? void 0
                    : a.content_descriptors_to_exclude) ||
              void 0 === s ||
              s.forEach((e) => {
                this.setExcludedContentDescriptorIds.add(
                  e.content_descriptorid,
                );
              });
          const m = this.GetProfileSteamId();
          if (
            ((null ===
              (o =
                null === (r = this.rgGameslistConfig) || void 0 === r
                  ? void 0
                  : r.rgGames) || void 0 === o
              ? void 0
              : o.length) > 0 &&
              g.U.setQueryData(
                ["OwnedGames", m, f.De.LANGUAGE],
                this.rgGameslistConfig.rgGames.map((e) =>
                  Object.assign(Object.assign({}, e), {
                    rtime_last_played: y(e.rtime_last_played),
                  }),
                ),
              ),
            (null ===
              (c =
                null === (l = this.rgGameslistConfig) || void 0 === l
                  ? void 0
                  : l.achievement_progress) || void 0 === c
              ? void 0
              : c.length) > 0)
          ) {
            const e = ["AchievementProgress", m, f.De.LANGUAGE];
            g.U.setQueryData(e, this.rgGameslistConfig.achievement_progress);
            for (const t of this.rgGameslistConfig.achievement_progress)
              g.U.setQueryData([e, (0, i.hashQueryKey)([t.appid])], t);
          }
        }
        FetchAchievementProgressBatch(e, t, n) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const a = n.filter((e) => e.has_community_visible_stats);
            if (0 === a.length) return [];
            const s = r.gA.Init(c.M4);
            s.Body().set_steamid(t),
              s.Body().set_language(f.De.LANGUAGE),
              s.Body().set_appids(a.map((e) => e.appid));
            const i = yield c.lk.GetAchievementsProgress(e, s);
            if (1 !== i.GetEResult())
              throw (
                (console.error(
                  "Received error from GetAchievementsProgress",
                  i.GetEResult(),
                ),
                new Error(
                  `Error from GetAchievementsProgress: ${i.GetEResult()}`,
                ))
              );
            return i
              .Body()
              .achievement_progress()
              .map((e) => ({
                unlocked: e.unlocked(),
                total: e.total(),
                appid: e.appid(),
              }));
          });
        }
        FetchTopAchievementsBatch(e, t, n) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const a = n.filter((e) => e.has_community_visible_stats);
            if (0 === a.length) return [];
            const s = r.gA.Init(c.OZ);
            s.Body().set_steamid(t),
              s.Body().set_language(f.De.LANGUAGE),
              s.Body().set_appids(a.map((e) => e.appid)),
              s.Body().set_max_achievements(6);
            const i = yield c.lk.GetTopAchievementsForGames(e, s);
            if (1 !== i.GetEResult())
              throw (
                (console.error(
                  "Received error from GetTopAchievementsForGames",
                  i.GetEResult(),
                ),
                new Error(
                  `Error from GetTopAchievementsForGames: ${i.GetEResult()}`,
                ))
              );
            return i
              .Body()
              .games()
              .map((e) => ({
                appid: e.appid(),
                total_achievements: e.total_achievements(),
                achievements: e
                  .achievements()
                  .map((e) => ({
                    icon: e.icon(),
                    name: e.name(),
                    desc: e.desc(),
                    statid: e.statid(),
                    bit: e.bit(),
                    player_percent_unlocked: e.player_percent_unlocked(),
                  })),
              }));
          });
        }
        GetGames(e, t) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const n = r.gA.Init(c.pp);
            n.Body().set_steamid(e),
              n.Body().set_include_appinfo(!0),
              n.Body().set_skip_unvetted_apps(!1),
              n.Body().set_include_extended_appinfo(!0),
              n.Body().set_include_played_free_games(!0),
              n.Body().set_language(f.De.LANGUAGE);
            const a = yield c.lk.GetOwnedGames(t, n);
            if (1 !== a.GetEResult())
              throw (
                (console.error(
                  "Received error from GetOwnedGames",
                  a.GetEResult(),
                ),
                new Error(`Error from GetOwnedGames: ${a.GetEResult()}`))
              );
            return a
              .Body()
              .games()
              .map((e) => ({
                appid: e.appid(),
                name: e.name(),
                sort_as: e.sort_as() || v(e.name()),
                playtime_forever: e.playtime_forever(),
                playtime_2weeks: e.playtime_2weeks(),
                playtime_disconnected: e.playtime_disconnected(),
                rtime_last_played: y(e.rtime_last_played()),
                capsule_filename: e.capsule_filename(),
                has_dlc: e.has_dlc() || !1,
                has_workshop: e.has_workshop() || !1,
                has_market: e.has_market() || !1,
                has_community_visible_stats:
                  e.has_community_visible_stats() || !1,
                has_leaderboards: e.has_leaderboards() || !1,
                content_descriptorids: e.content_descriptorids() || [],
                img_icon_url: e.img_icon_url(),
              }));
          });
        }
        GetUserFileCount(e, t, n) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let a = r.gA.Init(m.AO);
            a.Body().set_steamid(e),
              a.Body().set_filetype(4),
              a.Body().set_totalonly(!0),
              a.Body().set_appid(n);
            const s = yield m.vx.GetUserFileCount(t, a);
            if (1 !== s.GetEResult())
              throw (
                (console.error(
                  "Received error from GetUserFileCount",
                  s.GetEResult(),
                ),
                new Error(`Error from GetUserFileCount: ${s.GetEResult()}`))
              );
            return s.Body().total();
          });
        }
        GetFriendsWhoPlayCount(e, t) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let n = r.gA.Init(c.$_);
            n.Body().set_appid(t);
            const a = yield c.lk.GetFriendsGameplayInfo(e, n);
            if (1 !== a.GetEResult())
              throw (
                (console.error(
                  "Received error from GetFriendsGameplayInfo",
                  a.GetEResult(),
                ),
                new Error(
                  `Error from GetFriendsGameplayInfo: ${a.GetEResult()}`,
                ))
              );
            return a.Body().played_recently().length;
          });
        }
        GetIndividualHasRecommendations(e, t, n) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            let a = r.gA.Init(d.Vy),
              s = r.gA.Init(d.K9);
            s.Body().set_steamid(e),
              s.Body().set_appid(n),
              a.Body().add_requests(s.Body());
            const i = yield d.fG.GetIndividualRecommendations(t, a);
            if (1 !== i.GetEResult() && 42 !== i.GetEResult())
              throw (
                (console.error(
                  "Received error from GetIndividualRecommendations",
                  i.GetEResult(),
                ),
                new Error(
                  `Error from GetIndividualRecommendations: ${i.GetEResult()}`,
                ))
              );
            return i.Body().recommendations().length > 0;
          });
        }
        GetTradingCardsCount(e, t) {
          return (0, a.mG)(this, void 0, void 0, function* () {
            const n = `${f.De.COMMUNITY_BASE_URL}/profiles/${e}/ajaxgetbadgeinfo/${t}`,
              a = new AbortController();
            let s, i;
            try {
              const e = setTimeout(() => {
                a.abort();
              }, 6e3);
              (s = yield fetch(n, {
                credentials: "include",
                signal: a.signal,
              })),
                clearTimeout(e),
                (i = yield s.json());
            } catch (e) {
              throw e.response
                ? new Error(
                    `HTTP result ${e.response.status} from ajax of ${n}`,
                  )
                : new Error(`Bad HTTP request for ajax for ${n}`);
            }
            const r = null == i ? void 0 : i.badgedata;
            if (!r) return;
            let o = 0,
              l = 0;
            for (let e of r.rgCards) o++, e.owned && l++;
            return { total: o, owned: l };
          });
        }
        GetProfileName() {
          return this.rgGameslistConfig.strProfileName;
        }
        GetProfileSteamId() {
          return this.rgGameslistConfig.strSteamId;
        }
        BViewingOwnProfile() {
          return this.rgGameslistConfig.bViewingOwnProfile;
        }
        GetWebAPIToken() {
          return this.rgGameslistConfig.webapi_token;
        }
        GetGCPDGames() {
          return this.rgGameslistConfig.gcpdGames;
        }
        GetReviewCount() {
          return this.rgGameslistConfig.nUserReviewCount;
        }
        GetFollowedCount() {
          return this.rgGameslistConfig.nUserFollowedCount;
        }
        GetExcludedContentDescriptors() {
          return this.setExcludedContentDescriptorIds;
        }
        GetPerfectUnownedGames() {
          return this.rgGameslistConfig.rgPerfectUnownedGames;
        }
        GetRecentlyPlayedUnownedGames() {
          return this.rgGameslistConfig.rgRecentlyPlayedUnownedGames;
        }
      }
      function b(e, t = {}) {
        const n = E.Get(),
          a = (0, o.bY)();
        return (0, i.useQuery)(
          Object.assign(
            {
              queryKey: ["OwnedGames", e, f.De.LANGUAGE],
              queryFn: () => n.GetGames(e, a),
              select: (e) => e.filter((e) => e.img_icon_url),
            },
            t,
          ),
        );
      }
      function C() {
        return E.Get().GetProfileName();
      }
      function G() {
        return E.Get().GetProfileSteamId();
      }
      function w() {
        return E.Get().BViewingOwnProfile();
      }
      function L() {
        const [e] = (0, s.useState)(
          () => new l.J(f.De.WEBAPI_BASE_URL, E.Get().GetWebAPIToken()),
        );
        return e;
      }
      function R(e) {
        var t;
        const n = E.Get().GetExcludedContentDescriptors();
        return null === (t = null == e ? void 0 : e.content_descriptorids) ||
          void 0 === t
          ? void 0
          : t.some((e) => n.has(e));
      }
      function A(e) {
        const t = (0, o.bY)(),
          n = E.Get(),
          a = (0, i.useQueryClient)(),
          s = ["AchievementProgress", e, f.De.LANGUAGE],
          r = b(e);
        return (0, i.useQuery)({
          queryKey: s,
          queryFn: () => n.FetchAchievementProgressBatch(t, e, r.data),
          onSuccess(e) {
            e.forEach((e) => {
              const t = [s, (0, i.hashQueryKey)([e.appid])];
              a.setQueryData(t, e);
            });
          },
          enabled: void 0 !== r.data && r.data.length > 0,
        });
      }
      function N(e, t) {
        const n = (0, o.bY)(),
          a = E.Get(),
          s = a.GetProfileSteamId();
        return _({
          batchKey: ["AchievementProgress", s, f.De.LANGUAGE],
          queryKey: [e.appid],
          queryFn: (e) => a.FetchAchievementProgressBatch(n, s, e),
          requestMatcher: (e, t) => e.appid === t.appid,
          batchDuration: 100,
          request: e,
          enabled: t,
        });
      }
      function I(e) {
        const t = (0, o.bY)(),
          n = E.Get(),
          a = n.GetProfileSteamId();
        return (0, i.useQuery)(["ScreenshotCount", a, e], () =>
          n.GetUserFileCount(a, t, e),
        );
      }
      var S = n(61134),
        B = n(20417),
        D = n(13043),
        k = n(91618),
        P = n(41130),
        x = n(1485),
        U = n(71472),
        T = n(46882),
        M = n(59728),
        F = n(13129);
      var O = n(31846),
        $ = n(33672),
        H = n(58538),
        X = n(62613),
        Q = n(1086);
      function j(e, t, n = !1) {
        return (0, s.useMemo)(() => {
          var a;
          return {
            data: null === (a = e.data) || void 0 === a ? void 0 : a.filter(t),
            isLoading: e.isLoading || n,
            error: e.error,
          };
        }, [e.data, e.isLoading, e.error, t, n]);
      }
      const Z = 2592e3;
      function q(e) {
        return (
          void 0 !== e.rtime_last_played &&
          e.rtime_last_played > Date.now() / 1e3 - Z
        );
      }
      function z({ strNameFilter: e, setStrNameFilter: t, className: n }) {
        const a = (0, s.useRef)(null),
          i = e && "" != e;
        return s.createElement(
          "div",
          { className: (0, F.Z)(Q.Filter, n) },
          s.createElement("input", {
            ref: a,
            onChange: () => {
              var e;
              return t(
                null === (e = a.current) || void 0 === e ? void 0 : e.value,
              );
            },
            value: null != e ? e : "",
            placeholder: (0, O.Xx)("#GamesList_Filter_Placeholder"),
          }),
          i
            ? s.createElement(
                "button",
                { className: Q.ClearButton, onClick: () => t("") },
                s.createElement(X.X, null),
              )
            : s.createElement(
                "div",
                { className: Q.SearchIcon },
                s.createElement(H.olm, null),
              ),
        );
      }
      function Y(e) {
        return s.createElement(
          "svg",
          Object.assign(
            {
              xmlns: "http://www.w3.org/2000/svg",
              viewBox: "0 0 30 29",
              fill: "none",
            },
            e,
          ),
          s.createElement("path", {
            fill: "currentColor",
            fillRule: "evenodd",
            clipRule: "evenodd",
            d: "M26 20V25H4V20H0V29H30V20H26Z",
          }),
          s.createElement("path", {
            fill: "currentColor",
            d: "M17 12.1716L21.5858 7.58578L24.4142 10.4142L15 19.8284L5.58582 10.4142L8.41424 7.58578L13 12.1715V0H17V12.1716Z",
          }),
        );
      }
      function W(e) {
        return s.createElement(
          "svg",
          Object.assign(
            {
              xmlns: "http://www.w3.org/2000/svg",
              viewBox: "0 0 30 30",
              fill: "none",
            },
            e,
          ),
          s.createElement("path", {
            fill: "currentColor",
            d: "M29.12 4.41L25.59 0.880005L15 11.46L4.41 0.880005L0.880005 4.41L11.46 15L0.880005 25.59L4.41 29.12L15 18.54L25.59 29.12L29.12 25.59L18.54 15L29.12 4.41Z",
          }),
        );
      }
      function V(e) {
        return s.createElement(
          "svg",
          Object.assign(
            {
              xmlns: "http://www.w3.org/2000/svg",
              viewBox: "0 0 30 30",
              fill: "none",
            },
            e,
          ),
          s.createElement("path", {
            fill: "currentColor",
            fillRule: "evenodd",
            clipRule: "evenodd",
            d: "M15 0C12.0333 0 9.13318 0.879735 6.66645 2.52796C4.19971 4.17618 2.27712 6.51886 1.14181 9.25975C0.00649166 12.0006 -0.290558 15.0166 0.28822 17.9264C0.866998 20.8361 2.29561 23.5088 4.3934 25.6066C6.49119 27.7044 9.16393 29.133 12.0736 29.7118C14.9834 30.2906 17.9994 29.9935 20.7402 28.8582C23.4811 27.7229 25.8238 25.8003 27.472 23.3336C29.1203 20.8668 30 17.9667 30 15C30 13.0302 29.612 11.0796 28.8582 9.25975C28.1044 7.43986 26.9995 5.78628 25.6066 4.3934C24.2137 3.00052 22.5601 1.89563 20.7402 1.14181C18.9204 0.387987 16.9698 0 15 0ZM17.5 23H12.5V13H17.5V23ZM15 11C14.4067 11 13.8266 10.8241 13.3333 10.4944C12.8399 10.1648 12.4554 9.69623 12.2284 9.14805C12.0013 8.59987 11.9419 7.99667 12.0576 7.41473C12.1734 6.83279 12.4591 6.29824 12.8787 5.87868C13.2982 5.45912 13.8328 5.1734 14.4147 5.05764C14.9967 4.94189 15.5999 5.0013 16.148 5.22836C16.6962 5.45542 17.1648 5.83994 17.4944 6.33329C17.8241 6.82664 18 7.40666 18 8C18 8.79565 17.6839 9.55871 17.1213 10.1213C16.5587 10.6839 15.7956 11 15 11Z",
          }),
        );
      }
      function K(e) {
        return s.createElement(
          "svg",
          Object.assign(
            {
              xmlns: "http://www.w3.org/2000/svg",
              viewBox: "0 0 13 8",
              fill: "none",
            },
            e,
          ),
          s.createElement("path", {
            fill: "currentColor",
            d: "M12.6128 1.7121C12.7616 1.56087 12.8428 1.3684 12.8428 1.14155C12.8428 0.687862 12.491 0.323534 12.0446 0.323534C11.8214 0.323534 11.6184 0.419772 11.4628 0.577877L6.83601 5.38975L2.22271 0.577877C2.06712 0.419772 1.85743 0.323534 1.64097 0.323534C1.19452 0.323534 0.842773 0.687862 0.842773 1.14155C0.842773 1.3684 0.923946 1.56087 1.07276 1.71211L6.21369 7.06016C6.38956 7.25264 6.60602 7.342 6.84277 7.34888C7.07953 7.34888 7.28246 7.25264 7.4651 7.06016L12.6128 1.7121Z",
          }),
        );
      }
      function J(e) {
        return s.createElement(
          "svg",
          Object.assign(
            {
              xmlns: "http://www.w3.org/2000/svg",
              viewBox: "0 0 14 14",
              fill: "none",
            },
            e,
          ),
          s.createElement("path", {
            fill: "currentColor",
            d: "M13.6666 8.05776V5.9422L11.9199 5.6222C11.8053 5.22889 11.6457 4.8501 11.4444 4.49331L12.4533 3.03554L10.9644 1.53776L9.50659 2.55554C9.1498 2.35419 8.77101 2.19461 8.3777 2.07998L8.0577 0.333313H5.94214L5.62214 2.07998C5.22883 2.19461 4.85003 2.35419 4.49325 2.55554L3.03547 1.53776L1.5377 3.03554L2.55547 4.49331C2.35412 4.8501 2.19455 5.22889 2.07992 5.6222L0.333252 5.9422V8.05776L2.07992 8.37776C2.19455 8.77107 2.35412 9.14986 2.55547 9.50665L1.5377 10.9644L3.03547 12.4622L4.49325 11.4444C4.85043 11.6427 5.22921 11.7993 5.62214 11.9111L5.94214 13.6666H8.0577L8.3777 11.92C8.77101 11.8053 9.1498 11.6458 9.50659 11.4444L10.9644 12.4533L12.4621 10.9555L11.4444 9.50665C11.6426 9.14947 11.7992 8.77069 11.911 8.37776L13.6666 8.05776ZM6.99992 9.2222C6.56041 9.2222 6.13076 9.09187 5.76532 8.84769C5.39988 8.60351 5.11505 8.25645 4.94685 7.85039C4.77866 7.44433 4.73465 6.99751 4.8204 6.56645C4.90614 6.13538 5.11779 5.73942 5.42857 5.42863C5.73935 5.11785 6.13532 4.9062 6.56638 4.82046C6.99745 4.73471 7.44427 4.77872 7.85033 4.94691C8.25639 5.11511 8.60345 5.39994 8.84763 5.76538C9.09181 6.13082 9.22214 6.56047 9.22214 6.99998C9.22214 7.29181 9.16466 7.58078 9.05299 7.85039C8.94131 8.12 8.77762 8.36498 8.57127 8.57133C8.36491 8.77768 8.11994 8.94137 7.85033 9.05305C7.58071 9.16472 7.29175 9.2222 6.99992 9.2222Z",
            fillOpacity: "0.5",
          }),
        );
      }
      var ee = n(38071),
        te = n(95315),
        ne = n(82493),
        ae = n(84686),
        se = n(77936),
        ie = n(53923),
        re = (n(67573), n(83120));
      const oe = "RemoteDownload_OnlineClient",
        le = "RemoteDownload_ClientAppList",
        ce = "RemoteDownload_ClientAppData";
      class me extends Error {
        constructor(e, t) {
          super(e), (this.result = t);
        }
      }
      function de() {
        const e = (0, o.bY)(),
          t = (0, ie.M)();
        return (0, i.useQuery)(
          [oe, t],
          () =>
            (0, a.mG)(this, void 0, void 0, function* () {
              const t = r.gA.Init(re.II),
                n = yield re.b5.GetAllClientLogonInfo(e, t);
              if (1 !== n.GetEResult())
                throw (
                  (console.error(
                    "Received error from GetAllClientLogonInfo",
                    n.GetEResult(),
                    n.Hdr().transport_error(),
                  ),
                  new Error(
                    `Error from GetAllClientLogonInfo: ${n.GetEResult()}`,
                  ))
                );
              const a = [];
              for (const e of n.Body().sessions())
                e.device_type() !== se.gg.k_EGamingDeviceType_Unknown &&
                  a.push(e.toObject());
              return {
                sessions: a,
                refetchInterval: n.Body().refetch_interval_sec() || 300,
              };
            }),
          {
            staleTime: 3e5,
            refetchInterval: (e) =>
              1e3 * ((null == e ? void 0 : e.refetchInterval) || 300),
          },
        );
      }
      class ue {
        constructor(e) {
          Object.assign(this, e.toObject()),
            (this.bytes_to_download = parseInt(e.bytes_to_download()) || 0),
            (this.bytes_downloaded = parseInt(e.bytes_downloaded()) || 0),
            (this.bytes_staged = parseInt(e.bytes_staged()) || 0),
            (this.bytes_to_stage = parseInt(e.bytes_to_stage()) || 0),
            (this.bytes_required = parseInt(e.bytes_required()) || 0);
        }
        BIsDownloading() {
          return this.num_downloading > 0;
        }
        BIsAtTopOfQueue() {
          return 0 === this.queue_position;
        }
        BIsPaused() {
          return (
            this.download_paused &&
            (this.bytes_downloaded < this.bytes_to_download ||
              this.bytes_staged < this.bytes_to_stage ||
              -1 != this.queue_position)
          );
        }
        BHasPendingUpdate() {
          return (
            !this.BIsDownloading() &&
            !this.download_paused &&
            (this.bytes_downloaded < this.bytes_to_download ||
              this.bytes_staged < this.bytes_to_stage)
          );
        }
      }
      function pe(e, t, n) {
        return (0, a.mG)(this, void 0, void 0, function* () {
          const a = t.client_instanceid,
            s = r.gA.Init(re.eV);
          s.Body().set_fields("games"),
            s.Body().set_filters(n),
            s.Body().set_client_instanceid(a),
            s.Body().set_include_client_info(!0);
          const i = yield re.b5.GetClientAppList(e, s);
          if (1 !== i.GetEResult())
            throw (
              (console.error(
                "Received error from GetClientAppList",
                i.GetEResult(),
                i.Hdr().transport_error(),
              ),
              new me(
                `Error from GetClientAppList: ${i.GetEResult()}`,
                i.GetEResult(),
              ))
            );
          const o = new Map();
          for (const e of i.Body().apps()) {
            const t = new ue(e);
            o.set(e.appid(), t);
          }
          return {
            session: t,
            mapApps: o,
            clientInfo: i.Body().client_info().toObject(),
            refetchIntervals: {
              full: i.Body().refetch_interval_sec_full() || 3600,
              changing: i.Body().refetch_interval_sec_changing() || 60,
              updating: i.Body().refetch_interval_sec_updating() || 10,
            },
          };
        });
      }
      function _e(e, t, n) {
        return [le, e, t, n];
      }
      function ge(e, t = !0) {
        var n, r;
        const l = de(),
          c = (0, o.bY)(),
          m = (0, ie.M)(),
          d = (e) => {
            t && ((21 != e.result && 16 != e.result) || l.refetch());
          },
          u = (0, i.useQueries)(
            (
              (null === (n = l.data) || void 0 === n ? void 0 : n.sessions) ||
              []
            ).map((e) => ({
              queryKey: _e(m, e.client_instanceid, "none"),
              queryFn: () =>
                (0, a.mG)(this, void 0, void 0, function* () {
                  return pe(c, e, "none");
                }),
              staletime: 36e5,
              refetchInterval: (e) =>
                1e3 * ((null == e ? void 0 : e.refetchIntervals.full) || 3600),
              enabled: l.isSuccess && !l.isFetching,
              onError: d,
              retry: t,
            })),
          ),
          p = (0, s.useCallback)(
            (t) => {
              if (!e) return t;
              const n = new Map(Array.from(t.mapApps.entries()).filter(e));
              return Object.assign(Object.assign({}, t), { mapApps: n });
            },
            [e],
          ),
          _ = (0, i.useQueries)(
            (
              (null === (r = l.data) || void 0 === r ? void 0 : r.sessions) ||
              []
            ).map((e, n) => ({
              queryKey: _e(m, e.client_instanceid, "changing"),
              queryFn: () =>
                (0, a.mG)(this, void 0, void 0, function* () {
                  return (function (e, t, n, s) {
                    return (0, a.mG)(this, void 0, void 0, function* () {
                      if (!s) return;
                      const a = yield pe(e, t, n);
                      for (const [e, t] of a.mapApps) s.mapApps.set(e, t);
                      return Object.assign(Object.assign({}, a), {
                        mapApps: s.mapApps,
                      });
                    });
                  })(c, e, "changing", u[n].data);
                }),
              enabled: u[n].isSuccess && !u[n].isFetching,
              staletime: 1e4,
              select: p,
              refetchInterval: (e) => {
                if (!e) return 6e4;
                let t = !1;
                for (const n of e.mapApps.values())
                  if (n.num_downloading > 0 || n.uninstalling) {
                    t = !0;
                    break;
                  }
                const n = e.refetchIntervals;
                return 1e3 * (t ? n.updating : n.changing);
              },
              onError: d,
              retry: t,
            })),
          );
        return {
          rgQueries: _.map((e, t) =>
            u[t].isError && !u[t].isFetching ? u[t] : e,
          ),
          refetch: () => {
            for (const e of _) e.remove();
            for (const e of u) e.refetch();
          },
        };
      }
      function fe(e, t) {
        return [ce, e, t];
      }
      function he(e, t = !0) {
        const n = (0, ie.M)(),
          { rgQueries: a } = ge(void 0, t);
        return (0, i.useQuery)(
          fe(n, e),
          () => {
            var t, n;
            const s = new Map();
            for (const i of a)
              if (i.isSuccess) {
                const a =
                    null === (t = i.data) || void 0 === t
                      ? void 0
                      : t.session.client_instanceid,
                  r = (
                    null === (n = i.data) || void 0 === n ? void 0 : n.mapApps
                  ).get(e);
                r &&
                  s.set(a, {
                    session: i.data.session,
                    app: r,
                    clientInfo: i.data.clientInfo,
                  });
              }
            return s;
          },
          {
            enabled: a.reduce((e, t) => e && t.isSuccess && !t.isFetching, !0),
            staleTime: 0,
            cacheTime: 0,
          },
        );
      }
      function ve(e, t, n, s) {
        const l = (0, o.bY)(),
          c = he(e),
          m = (0, ie.M)(),
          d = (0, i.useQueryClient)();
        return (0, i.useMutation)(
          () =>
            (0, a.mG)(this, void 0, void 0, function* () {
              var a;
              const s = null == c ? void 0 : c.data,
                i = s && s.get(t);
              if (
                (null === (a = null == i ? void 0 : i.clientInfo) ||
                void 0 === a
                  ? void 0
                  : a.clientcomm_version) >= 1
              ) {
                const e = r.gA.Init(re.BF);
                e.Body().set_client_instanceid(t), e.Body().set_enable(!n);
                const a = yield re.b5.EnableOrDisableDownloads(l, e);
                if (1 != a.GetEResult())
                  throw (
                    (console.error(
                      "Received error from EnableOrDisableDownloads",
                      a.GetEResult(),
                    ),
                    new Error(
                      `Error from EnableOrDisableDownloads: ${a.GetEResult()}`,
                    ))
                  );
              } else {
                const a = r.gA.Init(re.iH);
                a.Body().set_appid(e),
                  a.Body().set_client_instanceid(t),
                  a.Body().set_action(n ? 0 : 1);
                const s = yield re.b5.SetClientAppUpdateState(l, a);
                if (1 != s.GetEResult())
                  throw (
                    (console.error(
                      "Received error from SetClientAppUpdateState",
                      s.GetEResult(),
                    ),
                    new Error(
                      `Error from SetClientAppUpdateState: ${s.GetEResult()}`,
                    ))
                  );
              }
              i &&
                ((s.get(t).app.download_paused = n),
                (s.get(t).app.num_downloading = n ? 0 : 1)),
                d.setQueryData(fe(m, e), s),
                c.refetch();
            }),
          { onSuccess: s },
        );
      }
      var ye = n(27522),
        Ee = n.n(ye);
      const be = s.forwardRef(function (
        {
          imgURL: e,
          glow: t,
          pauseAnimation: n,
          hidden: a,
          alt: i,
          className: r,
        },
        o,
      ) {
        const [l, c] = s.useState(!1);
        if (a)
          return s.createElement("div", { className: Ee().HiddenLabel }, "?");
        const m = l && t;
        return s.createElement(
          "div",
          {
            ref: o,
            className: (0, F.Z)(
              Ee().AchievementIconWrapper,
              r,
              n && Ee().RareAchievementNoAnimation,
            ),
          },
          m &&
            s.createElement(
              "div",
              { className: Ee().RareAchievementIconGlowContainerRoot },
              s.createElement(
                "div",
                { className: Ee().RareAchievementIconGlowContainer },
                s.createElement("div", {
                  className: Ee().RareAchievementIconGlow,
                }),
              ),
            ),
          s.createElement("img", {
            className: (0, F.Z)(Ee().Icon, m && Ee().IconGlow),
            src: e,
            loading: "lazy",
            alt: i,
            onLoad: () => c(!0),
          }),
        );
      });
      var Ce = n(22042),
        Ge = n(10162),
        we = n(85305),
        Le = n(76478);
      function Re({ nPercent: e, indeterminate: t, animate: n, className: a }) {
        return s.createElement("div", {
          className: (0, F.Z)(
            Le.ProgressBar,
            n && Le.AnimateProgress,
            t && Le.Indeterminate,
            a,
          ),
          style: { "--percent": e / 100 },
        });
      }
      var Ae = n(54117);
      var Ne = n(89729),
        Ie = n(19766),
        Se = n(50898),
        Be = n(90069),
        De = n(12251),
        ke = n(24549),
        Pe = n(3980);
      const xe = s.createContext(void 0);
      function Ue() {
        const e = (0, s.useContext)(xe);
        if (!e)
          throw new Error(
            "Attempted to get download client context outside of provider",
          );
        return e;
      }
      function Te() {
        const e = Ue().remoteDownloadClientId,
          t = de(),
          n = ge();
        if (
          !f.De.IN_CLIENT &&
          t.data &&
          0 !== t.data.sessions.length &&
          n.rgQueries.some((e) => e.data)
        )
          return e
            ? t.data.sessions.find((t) => t.client_instanceid === e)
            : t.data.sessions[0];
      }
      function Me({ children: e }) {
        const [t, n] = (0, s.useState)(void 0),
          a = (0, s.useMemo)(
            () => ({ remoteDownloadClientId: t, setRemoteDownloadClientId: n }),
            [t],
          );
        return s.createElement(xe.Provider, { value: a }, e);
      }
      function Fe(e) {
        switch (e) {
          case se.gg.k_EGamingDeviceType_StandardPC:
            return (0, O.Xx)("#Library_DeviceType_PC");
          case se.gg.k_EGamingDeviceType_SteamDeck:
            return (0, O.Xx)("#Library_DeviceType_SteamDeck");
          default:
            return;
        }
      }
      const Oe = {
        bFitToWindow: !0,
        bOverlapHorizontal: !0,
        bMatchWidth: !1,
        bShiftToFitWindow: !0,
      };
      function $e({ sessions: e, setRemoteDownloadClientId: t }) {
        return s.createElement(
          "ul",
          { className: Pe.ClientListDropdownMenu },
          e.map((e) =>
            s.createElement(
              Ce.Zo,
              {
                onSelected: () => {
                  t(e.client_instanceid);
                },
                key: e.client_instanceid,
              },
              (0, O.Xx)(
                "#GamesList_Client_Indicator",
                Fe(e.device_type),
                e.machine_name,
              ),
            ),
          ),
        );
      }
      function He() {
        const e = de(),
          t = Te(),
          n = Ue().setRemoteDownloadClientId,
          a = (0, s.useRef)(null),
          i = (0, s.useCallback)(() => {
            e.data &&
              (0, te.yV)(
                s.createElement($e, {
                  sessions: e.data.sessions,
                  setRemoteDownloadClientId: n,
                }),
                a.current,
                Oe,
              );
          }, [n, a, e.data]);
        return t
          ? s.createElement(
              "div",
              { className: Pe.RemoteDownloadClientBar },
              s.createElement(
                "span",
                { className: Pe.RemoteDownloadHeader },
                (0, O.kQ)(
                  "#GamesList_Header_RemoteDownload",
                  s.createElement(
                    s.Fragment,
                    null,
                    s.createElement(
                      "span",
                      { className: Pe.ClientIndicator },
                      (0, O.Xx)(
                        "#GamesList_Client_Indicator",
                        Fe(t.device_type),
                        t.machine_name,
                      ),
                      e.data.sessions.length > 1 &&
                        s.createElement(
                          "button",
                          {
                            ref: a,
                            onClick: i,
                            className: Pe.ClientSelectDropdown,
                          },
                          s.createElement(K, null),
                        ),
                    ),
                  ),
                ),
              ),
              s.createElement(
                M.HP,
                {
                  toolTipContent: (0, O.Xx)("#GamesList_RemoteDownload_Help"),
                  className: Pe.InfoIcon,
                },
                s.createElement(V, null),
              ),
            )
          : s.createElement(
              "details",
              {
                className: (0, F.Z)(
                  Pe.RemoteDownloadClientBar,
                  Pe.NoConnection,
                ),
              },
              s.createElement(
                "summary",
                { className: Pe.RemoteDownloadHeader },
                s.createElement(
                  "span",
                  { className: Pe.RemoteDownloadStatus },
                  (0, O.kQ)(
                    "#GamesList_Header_RemoteDownloadStatus",
                    s.createElement(
                      "span",
                      { className: Pe.NoConnectionText },
                      (0, O.Xx)("#GamesList_RemoteDownload_NoConnection"),
                    ),
                  ),
                ),
                s.createElement(
                  "span",
                  { className: Pe.LearnMoreCta },
                  (0, O.Xx)("#GamesList_RemoteDownload_LearnMore"),
                  s.createElement(K, null),
                ),
              ),
              s.createElement(
                "p",
                { className: Pe.RemoteDownloadHelp },
                (0, O.kQ)(
                  "#GamesList_RemoteDownload_Info",
                  (0, O.Xx)("#GamesList_RemoteDownload_Help"),
                  s.createElement(
                    "a",
                    {
                      href: "https://help.steampowered.com/faqs/view/1025-BD94-12FC-3409",
                    },
                    (0, O.Xx)("#GamesList_RemoteDownload_ReadTheFAQ"),
                  ),
                ),
              ),
            );
      }
      function Xe({ app: e, clientid: t }) {
        const n = !e.download_paused,
          a = ve(e.appid, t, !0),
          i = ve(e.appid, t, !1),
          r = n ? "#GamesList_Header_Downloading" : "#GamesList_Header_Paused",
          o = n ? a : i,
          l = e.bytes_to_download
            ? Math.floor((100 * e.bytes_downloaded) / e.bytes_to_download)
            : 0,
          c = !(e.bytes_downloaded && e.bytes_to_download),
          m = n ? s.createElement(X.dzL, null) : s.createElement(Y, null),
          d = n
            ? (0, O.Xx)("#GamesList_Button_Pause")
            : (0, O.Xx)("#GamesList_Button_Resume"),
          u = (0, s.useContext)(bn);
        return (
          (0, s.useEffect)(
            () => (
              null == u || u(e.appid, !0),
              () => (null == u ? void 0 : u(e.appid, !1))
            ),
            [e.appid, u],
          ),
          s.createElement(
            s.Fragment,
            null,
            s.createElement(
              "div",
              { className: Pe.DownloadBarWithLabel },
              s.createElement(
                "span",
                { className: Pe.DownloadStatus },
                (0, O.Xx)(r, l),
              ),
              s.createElement(
                "div",
                { className: Pe.DownloadProgress },
                s.createElement(
                  "span",
                  { className: Pe.CurrentSpace },
                  (0, ke.l)(e.bytes_downloaded, {
                    nDigitsAfterDecimal: 1,
                    nMinimumDigitsAfterDecimal: 1,
                    bValueIsInBytes: !0,
                  }),
                ),
                s.createElement("span", null, " / "),
                s.createElement(
                  "span",
                  { className: Pe.TotalSpace },
                  (0, ke.l)(e.bytes_to_download, {
                    nDigitsAfterDecimal: 1,
                    nMinimumDigitsAfterDecimal: 1,
                    bValueIsInBytes: !0,
                  }),
                ),
              ),
              e.BIsDownloading() &&
                e.estimated_seconds_remaining > 0 &&
                s.createElement(
                  "span",
                  { className: Pe.DownloadEstimate },
                  (0, De.jA)(e.estimated_seconds_remaining),
                ),
              s.createElement(Re, {
                className: Pe.DownloadBar,
                animate: n,
                nPercent: l,
                indeterminate: c,
              }),
            ),
            s.createElement(
              "button",
              {
                disabled: o.isLoading,
                onClick: () => {
                  o.mutateAsync(), gn(e.appid);
                },
                className: Pe.DownloadIconButton,
              },
              m,
              d,
            ),
          )
        );
      }
      function Qe({ app: e, clientid: t }) {
        return s.createElement(
          s.Fragment,
          null,
          s.createElement(
            "button",
            { disabled: !0, className: Pe.DownloadIconButton },
            s.createElement(W, null),
            (0, O.Xx)("#GamesList_Button_Uninstalling"),
          ),
        );
      }
      function je({ app: e, clientid: t }) {
        const n = (function (e, t, n) {
            const s = (0, o.bY)(),
              l = he(e),
              c = (0, ie.M)(),
              m = (0, i.useQueryClient)();
            return (0, i.useMutation)(
              () =>
                (0, a.mG)(this, void 0, void 0, function* () {
                  const n = null == l ? void 0 : l.data,
                    a = n && n.get(t),
                    i = r.gA.Init(re.iH);
                  i.Body().set_appid(e),
                    i.Body().set_client_instanceid(t),
                    i.Body().set_action(1);
                  const o = yield re.b5.SetClientAppUpdateState(s, i);
                  if (1 != o.GetEResult())
                    throw (
                      (console.error(
                        "Received error from SetClientAppUpdateState",
                        o.GetEResult(),
                      ),
                      new Error(
                        `Error from SetClientAppUpdateState: ${o.GetEResult()}`,
                      ))
                    );
                  a &&
                    ((n.get(t).app.download_paused = !1),
                    (n.get(t).app.num_downloading = 1)),
                    m.setQueryData(fe(c, e), n),
                    l.refetch();
                }),
              { onSuccess: n },
            );
          })(e.appid, t),
          l = e.rt_time_scheduled,
          c =
            l &&
            (0, O.jr)(l, { bGranularFutureTime: !0 }) +
              " " +
              (0, De.Sc)(l, { bForce24HourClock: !1 });
        return s.createElement(
          s.Fragment,
          null,
          c && s.createElement("span", { className: Pe.UpdateSchedule }, c),
          s.createElement(
            "button",
            {
              disabled: n.isLoading,
              onClick: () => {
                n.mutateAsync(), gn(e.appid);
              },
              className: Pe.DownloadIconButton,
            },
            s.createElement(X.Lao, null),
            (0, O.Xx)("#GamesList_Button_UpdateRequired"),
          ),
        );
      }
      function Ze({ app: e, closeModal: t, onOK: n }) {
        return s.createElement(Se.uH, {
          strOKButtonText: (0, O.Xx)("#GamesList_Button_Uninstall"),
          strCancelButtonText: (0, O.Xx)("#GamesList_Button_Cancel"),
          strDescription: (0, O.Xx)(
            "#GamesList_RemoteDownload_UninstallConfirm",
            e.app,
          ),
          strTitle: (0, O.Xx)("#GamesList_Button_Uninstall"),
          closeModal: t,
          onOK: n,
        });
      }
      function qe({ app: e, clientid: t }) {
        const n = (function (e, t, n) {
            const s = (0, o.bY)(),
              l = he(e),
              c = (0, ie.M)(),
              m = (0, i.useQueryClient)();
            return (0, i.useMutation)(
              () =>
                (0, a.mG)(this, void 0, void 0, function* () {
                  const n = r.gA.Init(re.fF);
                  n.Body().set_appid(e), n.Body().set_client_instanceid(t);
                  const a = yield re.b5.InstallClientApp(s, n);
                  if (1 != a.GetEResult())
                    throw (
                      (console.error(
                        "Received error from InstallClientApp",
                        a.GetEResult(),
                      ),
                      new Error(
                        `Error from InstallClientApp: ${a.GetEResult()}`,
                      ))
                    );
                  const i = null == l ? void 0 : l.data;
                  i &&
                    i.get(t) &&
                    ((i.get(t).app.num_downloading = 1),
                    (i.get(t).app.download_paused = !1)),
                    m.setQueryData(fe(c, e), i),
                    l.refetch();
                }),
              { onSuccess: n },
            );
          })(e.appid, t),
          l = (function (e, t, n) {
            const s = (0, o.bY)(),
              l = he(e),
              c = (0, ie.M)(),
              m = (0, i.useQueryClient)();
            return (0, i.useMutation)(
              () =>
                (0, a.mG)(this, void 0, void 0, function* () {
                  const n = r.gA.Init(re.Zu);
                  n.Body().set_appid(e), n.Body().set_client_instanceid(t);
                  const a = yield re.b5.UninstallClientApp(s, n);
                  if (1 != a.GetEResult())
                    throw (
                      (console.error(
                        "Received error from UninstallClientApp",
                        a.GetEResult(),
                      ),
                      new Error(
                        `Error from UninstallClientApp: ${a.GetEResult()}`,
                      ))
                    );
                  const i = null == l ? void 0 : l.data;
                  i && i.get(t) && (i.get(t).app.uninstalling = !0),
                    m.setQueryData(fe(c, e), i),
                    l.refetch();
                }),
              { onSuccess: n },
            );
          })(e.appid, t),
          c = e.installed ? l : n,
          m = e.installed
            ? () => {
                (0, Be.AM)(
                  s.createElement(Ze, {
                    app: e,
                    onOK: () => {
                      l.mutateAsync(), gn(e.appid);
                    },
                  }),
                  window,
                );
              }
            : () => {
                n.mutateAsync(), gn(e.appid);
              },
          d = e.installed
            ? "#GamesList_Button_Uninstall"
            : "#GamesList_Button_Download",
          u = e.installed ? W : Y;
        return s.createElement(
          s.Fragment,
          null,
          !e.installed &&
            e.bytes_required > 0 &&
            s.createElement(
              "span",
              { className: Pe.DownloadSize },
              (0, ke.l)(e.bytes_required, { nDigitsAfterDecimal: 1 }),
            ),
          s.createElement(
            "button",
            {
              disabled: c.isLoading,
              onClick: m,
              className: Pe.DownloadIconButton,
            },
            s.createElement(u, null),
            (0, O.Xx)(d),
          ),
        );
      }
      function ze(e) {
        return e.BIsDownloading() || e.BIsPaused() || e.changing;
      }
      function Ye({ game: e }) {
        var t;
        const n = he(e.appid, !1),
          a = Te(),
          i = null == a ? void 0 : a.client_instanceid;
        if (
          a &&
          0 === (null === (t = n.data) || void 0 === t ? void 0 : t.size)
        )
          return null;
        if (!n.data || 0 === n.data.size || !a) return null;
        const r = n.data.get(i).app;
        return r.BIsDownloading() || r.BIsPaused()
          ? s.createElement(
              "div",
              { className: Pe.DownloadBarContainer },
              s.createElement(Xe, { key: "downloading", app: r, clientid: i }),
            )
          : null;
      }
      function We({ game: e, className: t, enableDownloadBar: n = !1 }) {
        var a;
        const i = he(e.appid, !1),
          r = Te(),
          o = null == r ? void 0 : r.client_instanceid;
        if (
          r &&
          0 === (null === (a = i.data) || void 0 === a ? void 0 : a.size)
        )
          return s.createElement(
            "div",
            { className: (0, F.Z)(Pe.RemoteControls, t) },
            s.createElement(
              "span",
              { className: Pe.NoRemoteControl },
              (0, O.Xx)("#GamesList_RemoteDownload_NoRemoteControl"),
            ),
          );
        if (!i.data || 0 === i.data.size || !r) return null;
        const l = [],
          c = i.data.get(o),
          m = null == c ? void 0 : c.app;
        if (!m) return null;
        if (m.BIsDownloading() || m.BIsPaused()) {
          if (!n) return null;
          l.push(
            s.createElement(Xe, { key: "downloading", app: m, clientid: o }),
          );
        } else
          m.uninstalling
            ? l.push(
                s.createElement(Qe, {
                  key: "uninstalling",
                  app: m,
                  clientid: o,
                }),
              )
            : m.BHasPendingUpdate()
              ? l.push(
                  s.createElement(je, {
                    key: "updatePending",
                    app: m,
                    clientid: o,
                  }),
                )
              : l.push(
                  s.createElement(qe, {
                    key: "installuninstall",
                    app: m,
                    clientid: o,
                  }),
                );
        return s.createElement(
          "div",
          { className: (0, F.Z)(Pe.RemoteControls, t) },
          s.createElement("div", { className: Pe.ButtonContainer }, l),
        );
      }
      function Ve(e) {
        var { visible: t } = e,
          n = (0, a._T)(e, ["visible"]);
        return t ? s.createElement(Ye, Object.assign({}, n)) : null;
      }
      function Ke(e) {
        var { visible: t, className: n } = e,
          i = (0, a._T)(e, ["visible", "className"]);
        return Te()
          ? t
            ? s.createElement(We, Object.assign({ className: n }, i))
            : s.createElement("div", {
                className: (0, F.Z)(Pe.RemoteControls, n),
              })
          : null;
      }
      var Je;
      !(function (e) {
        (e.HoursPlayed = "playtime"),
          (e.RecentlyPlayed = "recent"),
          (e.Name = "name"),
          (e.AchievementCompletion = "achievements");
      })(Je || (Je = {}));
      const et = (0, se.dt)((0, se.jM)(f.De.LANGUAGE)),
        tt = new Intl.Collator([et, "en"]);
      function nt(e, t) {
        return (
          tt.compare(
            (e.sort_as || e.name || "").trim(),
            (t.sort_as || t.name || "").trim(),
          ) ||
          (function (e, t) {
            return e.appid - t.appid;
          })(e, t)
        );
      }
      function at(e, t, n) {
        var a, s;
        const i =
            null !== (a = n.find((t) => t.appid === e.appid)) && void 0 !== a
              ? a
              : { unlocked: 0, total: 0 },
          r =
            null !== (s = n.find((e) => e.appid === t.appid)) && void 0 !== s
              ? s
              : { unlocked: 0, total: 0 };
        return (
          r.unlocked / (r.total || 1) - i.unlocked / (i.total || 1) ||
          (function (e, t, n) {
            var a, s;
            const i =
              null !== (a = n.find((t) => t.appid === e.appid)) && void 0 !== a
                ? a
                : { unlocked: 0, total: 0 };
            return (
              (null !== (s = n.find((e) => e.appid === t.appid)) && void 0 !== s
                ? s
                : { unlocked: 0, total: 0 }
              ).total - i.total || nt(e, t)
            );
          })(e, t, n)
        );
      }
      function st(e, t) {
        const n = A(G()),
          a = (0, s.useCallback)(
            (e, a) => {
              switch (t) {
                case Je.HoursPlayed:
                  return (
                    (s = e),
                    (null !== (r = (i = a).playtime_forever) && void 0 !== r
                      ? r
                      : 0) -
                      (null !== (o = s.playtime_forever) && void 0 !== o
                        ? o
                        : 0) || nt(s, i)
                  );
                case Je.RecentlyPlayed:
                  return (function (e, t) {
                    return (
                      t.rtime_last_played - e.rtime_last_played || nt(e, t)
                    );
                  })(e, a);
                case Je.AchievementCompletion:
                  if (n.data) return at(e, a, n.data);
                default:
                case Je.Name:
                  return nt(e, a);
              }
              var s, i, r, o;
            },
            [t, n.data],
          );
        return (0, s.useMemo)(
          () => ({
            data: e.data && [...e.data].sort(a),
            isLoading:
              e.isLoading || (t === Je.AchievementCompletion && n.isLoading),
            error: e.error,
          }),
          [a, e.data, e.isLoading, e.error, n.isLoading, t],
        );
      }
      var it,
        rt = n(54129);
      function ot(e) {
        var t;
        if (e.isLoading) return "";
        const n = null === (t = e.data) || void 0 === t ? void 0 : t.length;
        return void 0 === n ? "" : `(${n})`;
      }
      function lt(e, t, n, a) {
        const i = w(),
          r = E.Get().GetReviewCount(),
          o = E.Get().GetFollowedCount();
        return (0, s.useMemo)(() => {
          const s = [];
          return (
            s.push({
              tab: it.RecentlyPlayed,
              label: (0, O.Xx)("#GamesList_Tab_RecentlyPlayed", ot(n)),
            }),
            s.push({
              tab: it.All,
              label: (0, O.Xx)("#GamesList_Tab_AllGames", ot(t)),
            }),
            (i ||
              e === it.Perfect ||
              a.isLoading ||
              (a.data && a.data.length > 0)) &&
              s.push({
                tab: it.Perfect,
                label: (0, O.Xx)("#GamesList_Tab_PerfectGames", ot(a)),
              }),
            s.push(
              {
                tab: it.Followed,
                href: `${h._.ProfileURL}followedgames`,
                label: (0, O.Xx)(
                  "#GamesList_Tab_Followed",
                  o > 0 ? `(${o})` : "",
                ),
              },
              {
                tab: it.Reviews,
                href: `${h._.ProfileURL}reviews`,
                label: (0, O.Xx)(
                  "#GamesList_Tab_Reviews",
                  r > 0 ? `(${r})` : "",
                ),
              },
              {
                tab: it.Wishlist,
                href: `${h._.ProfileURL}wishlist`,
                label: (0, O.Xx)("#GamesList_Tab_Wishlist"),
                className: rt.WishlistTab,
              },
            ),
            s
          );
        }, [e, t, n, a, r, o, i]);
      }
      function ct({ tabs: e, strTab: t, setStrTab: n }) {
        return s.createElement(
          s.Fragment,
          null,
          s.createElement(
            "div",
            {
              className: (0, F.Z)(
                "sectionTabs item responsive_hidden",
                rt.tabList,
              ),
            },
            e.map((e) =>
              e.href
                ? s.createElement(
                    "a",
                    {
                      className: (0, F.Z)("sectionTab", e.className),
                      href: e.href,
                      key: e.label,
                    },
                    s.createElement("span", null, e.label),
                  )
                : s.createElement(
                    "a",
                    {
                      className: (0, F.Z)(
                        "sectionTab",
                        e.tab === t && "active",
                        e.className,
                      ),
                      key: e.tab,
                      href: `${h._.ProfileURL}games/?tab=${e.tab}`,
                      onClick: (t) => {
                        t.preventDefault(), n(e.tab);
                      },
                    },
                    s.createElement("span", null, e.label),
                  ),
            ),
          ),
          s.createElement(
            "div",
            {
              className: (0, F.Z)(
                "nonresponsive_hidden responsive_tab_ctn sharedfiles_responsive_tab",
                rt.SelectBaseline,
              ),
            },
            s.createElement(
              "div",
              { className: "responsive_tab_control" },
              s.createElement(
                "select",
                {
                  value: t,
                  onChange: (t) => {
                    const a = e.find((e) => e.tab === t.target.value);
                    a &&
                      (t.preventDefault(),
                      a.href ? (location.href = a.href) : n(a.tab));
                  },
                },
                e.map((e) =>
                  e.href
                    ? s.createElement(
                        "option",
                        { value: e.tab, key: e.label },
                        e.label,
                      )
                    : s.createElement(
                        "option",
                        { value: e.tab, key: e.tab },
                        e.label,
                      ),
                ),
              ),
            ),
          ),
          s.createElement("div", {
            id: "tabs_baseline",
            className: (0, F.Z)("responsive_tab_baseline", rt.TabBaseline),
          }),
        );
      }
      !(function (e) {
        (e.All = "all"),
          (e.RecentlyPlayed = "recent"),
          (e.Perfect = "perfect"),
          (e.Followed = "followed"),
          (e.Reviews = "reviews"),
          (e.Wishlist = "wishlist");
      })(it || (it = {}));
      const mt =
        n.p +
        "images/applications/community/defaultappheader.png?v=valveisgoodatcaching";
      var dt = n(75545),
        ut = n(65255),
        pt = n(41003);
      function _t() {
        const e = (0, o.bY)();
        return (0, i.useQuery)(
          ["AccountPrivateApps"],
          () =>
            (0, a.mG)(this, void 0, void 0, function* () {
              const t = r.gA.Init(dt.XR),
                n = yield dt.kk.GetPrivateAppList(e, t);
              return new Set(n.Body().private_apps(!0).appids());
            }),
          { enabled: !!ut.L7.accountid },
        );
      }
      function gt() {
        const e = (function () {
            const { data: e } = _t();
            return e ? e.size > 0 : void 0;
          })(),
          { data: t } = (0, i.useQuery)(
            ["ClientPrivateAppsEnabled"],
            () =>
              (0, a.mG)(this, void 0, void 0, function* () {
                return ut.De.IN_STEAMUI
                  ? yield SteamClient.Apps.ArePrivateAppsEnabled()
                  : (0, pt.M4)();
              }),
            { staleTime: 3e4 },
          );
        return e || !0 === t || !1;
      }
      function ft(e) {
        const { data: t } = _t();
        return !!ut.L7.accountid && !!e && (t ? t.has(e) : void 0);
      }
      function ht(e) {
        e.invalidateQueries(["AccountPrivateApps"]);
      }
      function vt(e) {
        const t = (0, o.bY)(),
          n = (0, i.useQueryClient)();
        return (0, i.useMutation)({
          mutationFn: (n) =>
            (0, a.mG)(this, void 0, void 0, function* () {
              return yt(t, [e], n);
            }),
          onSuccess: (t, a) => Et(n, [e], a),
          onError() {
            ht(n);
          },
        });
      }
      function yt(e, t, n) {
        return (0, a.mG)(this, void 0, void 0, function* () {
          const a = r.gA.Init(dt._c);
          a.Body().set_appids(t.slice()), a.Body().set_private(n);
          const s = yield dt.kk.ToggleAppPrivacy(e, a);
          if (!s.BSuccess()) throw s.GetErrorMessage();
        });
      }
      function Et(e, t, n) {
        e.setQueryData(["AccountPrivateApps"], (e) => {
          if (!e) return;
          const a = new Set(e);
          return (
            t.forEach((e) => {
              n ? a.add(e) : a.delete(e);
            }),
            a
          );
        });
      }
      const bt = parseInt(Ne.GameHeight),
        Ct = parseInt(Ne.GamePadding),
        Gt = parseInt(Ne.RemoteControlsHeight),
        wt = bt + Ct;
      function Lt() {
        return (function (e) {
          const t = (0, s.useMemo)(() => matchMedia(e), [e]),
            [n, a] = (0, s.useState)(t.matches);
          return (
            (0, s.useEffect)(() => {
              function e(e) {
                a(e.matches);
              }
              return (
                t.addEventListener("change", e),
                () => t.removeEventListener("change", e)
              );
            }, [t]),
            n
          );
        })(`(max-width: ${Ne.MobileBreakpoint})`);
      }
      function Rt(e) {
        const t = I(e.appid),
          n = (function (e) {
            const t = (0, o.bY)(),
              n = E.Get();
            return (0, i.useQuery)(["FriendsWhoPlayCount", e], () =>
              n.GetFriendsWhoPlayCount(t, e),
            );
          })(e.appid),
          a = (function (e) {
            const t = E.Get(),
              n = t.GetProfileSteamId();
            return (0, i.useQuery)(["TradingCardsCount", n, e], () =>
              t.GetTradingCardsCount(n, e),
            );
          })(e.appid);
        return (0, s.useMemo)(() => {
          const s = [];
          return (
            s.push({
              href: `${f.De.COMMUNITY_BASE_URL}app/${e.appid}`,
              label: (0, O.Xx)("#Community_GameHubMenuItem"),
              key: "gamehub",
            }),
            void 0 !== t.data &&
              s.push({
                href: `${h._.ProfileURL}screenshots/?appid=${e.appid}`,
                label: (0, O.Xx)(
                  "#Community_ScreenshotsMenuItemFirstPerson",
                  t.data > 0 ? `(${t.data})` : "",
                ),
                key: "screenshots",
              }),
            void 0 !== n.data &&
              s.push({
                href: `${h._.ProfileURL}friendsthatplay/${e.appid}`,
                label: (0, O.Xx)(
                  "#Community_FriendsWhoPlayMenuItemFirstPerson",
                  n.data > 0 ? `(${n.data})` : "",
                ),
                key: "friendswhoplay",
              }),
            void 0 !== a.data &&
              s.push({
                href: `${h._.ProfileURL}gamecards/${e.appid}`,
                label: (0, O.Xx)(
                  "#Community_TradingCardsMenuItemFirstPerson",
                  `(${a.data.owned}/${a.data.total})`,
                ),
                key: "tradingcards",
              }),
            s.push({
              href: `${h._.ProfileURL}recommended/${e.appid}`,
              label: (0, O.Xx)("#Community_ReviewMenuItemFirstPerson"),
              key: "review",
            }),
            {
              rgLinks: s,
              bIsLoading: t.isLoading || n.isLoading || a.isLoading,
            }
          );
        }, [e, t.data, t.isLoading, n.data, n.isLoading, a.data, a.isLoading]);
      }
      function At(e) {
        const t = C(),
          n = I(e.appid),
          a = (function (e) {
            const t = (0, o.bY)(),
              n = E.Get(),
              a = n.GetProfileSteamId();
            return (0, i.useQuery)(
              ["UserIndividualRecommendations", a, e],
              () => n.GetIndividualHasRecommendations(a, t, e),
            );
          })(e.appid);
        return (0, s.useMemo)(() => {
          const s = [];
          return (
            s.push({
              href: `${f.De.COMMUNITY_BASE_URL}app/${e.appid}`,
              label: (0, O.Xx)("#Community_GameHubMenuItem"),
              key: "gamehub",
            }),
            n.data &&
              n.data > 0 &&
              s.push({
                href: `${h._.ProfileURL}screenshots/?appid=${e.appid}`,
                label: (0, O.Xx)(
                  "#Community_ScreenshotsMenuItemThirdPerson",
                  t,
                  n.data > 0 ? `(${n.data})` : "",
                ),
                key: "screenshots",
              }),
            a.data &&
              s.push({
                href: `${h._.ProfileURL}recommended/${e.appid}`,
                label: (0, O.Xx)("#Community_ReviewMenuItemThirdPerson", t),
                key: "review",
              }),
            { rgLinks: s, bIsLoading: n.isLoading }
          );
        }, [e, t, n.data, n.isLoading, a.data]);
      }
      function Nt(e) {
        return w() ? Rt(e) : At(e);
      }
      function It(e) {
        const t = C(),
          n = (function (e) {
            return E.Get().GetGCPDGames().includes(e.appid);
          })(e),
          a = w();
        return (0, s.useMemo)(() => {
          const s = [];
          return (
            e.has_community_visible_stats &&
              (s.push({
                href: `${h._.ProfileURL}stats/${e.appid}/?tab=achievements`,
                label: a
                  ? (0, O.Xx)("#Community_UsersAchievementsFirstPerson")
                  : (0, O.Xx)("#Community_UsersAchievements", t),
                key: "achievements",
              }),
              s.push({
                href: `${f.De.COMMUNITY_BASE_URL}stats/${e.appid}/achievements/`,
                label: (0, O.Xx)("#Community_GlobalAchievements"),
                key: "global_achievements",
              })),
            e.has_leaderboards &&
              (s.push({
                href: `${h._.ProfileURL}stats/${e.appid}/?tab=leaderboards`,
                label: a
                  ? (0, O.Xx)("#Community_UsersLeaderboardsFirstPerson")
                  : (0, O.Xx)("#Community_UsersLeaderboards", t),
                key: "leaderboards",
              }),
              s.push({
                href: `${f.De.COMMUNITY_BASE_URL}stats/${e.appid}/leaderboards/`,
                label: (0, O.Xx)("#Community_GlobalLeaderboards"),
                key: "global_leaderboards",
              })),
            a &&
              n &&
              s.push({
                href: `${h._.ProfileURL}gcpd/${e.appid}/`,
                label: (0, O.Xx)("#Community_GamePersonalData", t),
                key: "gcpd",
              }),
            s
          );
        }, [t, e, n, a]);
      }
      function St(e) {
        const t = w(),
          n = ft(e.appid),
          a = gt() && t,
          { mutate: i } = vt(e.appid);
        return (0, s.useMemo)(() => {
          const t = [];
          return (
            t.push({
              href: `${f.De.STORE_BASE_URL}app/${e.appid}`,
              label: (0, O.Xx)("#Community_StorePage"),
              key: "store",
            }),
            (0, ee.e7)(f.De.EREALM) ||
              t.push(
                {
                  href: `${f.De.IN_CLIENT ? "steam://openurl_external/" : ""}${f.De.STORE_BASE_URL}forum/${e.appid}`,
                  label: (0, O.Xx)("#Community_Forums"),
                  key: "forums",
                },
                {
                  href: `${f.De.COMMUNITY_BASE_URL}search/groups/?text=${encodeURIComponent(e.name)}`,
                  label: (0, O.Xx)("#Community_Groups"),
                  key: "groups",
                },
                {
                  href: `${f.De.IN_CLIENT ? "steam://openurl_external/" : ""}${f.De.STORE_BASE_URL}appofficialsite/${e.appid}`,
                  label: (0, O.Xx)("#Community_OfficialWebsite"),
                  key: "website",
                },
                {
                  href: `${f.De.STORE_BASE_URL}news/?appids=${e.appid}`,
                  label: (0, O.Xx)("#Community_News"),
                  key: "news",
                },
              ),
            a &&
              (n
                ? t.push({
                    action: () => i(!1),
                    label: (0, O.Xx)("#AppPrivacy_UnmarkAsPrivate"),
                    key: "appprivacy",
                  })
                : t.push({
                    action: () => i(!0),
                    label: (0, O.Xx)("#AppPrivacy_MarkAsPrivate"),
                    key: "appprivacy",
                    tooltip: (0, O.Xx)("#AppPrivacy_Explanation"),
                  })),
            t
          );
        }, [e, a, n, i]);
      }
      const Bt = s.forwardRef(
        ({ achievement: e, appid: t, className: n }, a) => {
          const i = parseFloat(e.player_percent_unlocked) < 10,
            r = `${f.De.MEDIA_CDN_COMMUNITY_URL}images/apps/${t}/${e.icon}`;
          return s.createElement(be, {
            ref: a,
            className: (0, F.Z)(
              Ie.AchievementIcon,
              Ie.RareAchievementIconWrapper,
              n,
            ),
            glow: i,
            imgURL: r,
          });
        },
      );
      function Dt({ appid: e, achievement: t }) {
        const n = `${f.De.MEDIA_CDN_COMMUNITY_URL}images/apps/${e}/${t.icon}`,
          a = parseFloat(t.player_percent_unlocked) < 10;
        return s.createElement(
          "div",
          { className: Ie.AchievementHover },
          s.createElement(
            "div",
            { className: Ie.Background },
            s.createElement("img", { className: Ie.Blur, src: n }),
          ),
          s.createElement(
            "div",
            { className: Ie.TopSection },
            s.createElement(Bt, { appid: e, achievement: t }),
            s.createElement(
              "div",
              { className: Ie.TextSection },
              s.createElement("div", { className: Ie.Name }, t.name),
              s.createElement("div", { className: Ie.Desc }, t.desc),
            ),
          ),
          t.player_percent_unlocked &&
            s.createElement(
              "div",
              { className: Ie.Unlocked },
              s.createElement(
                "span",
                { className: (0, F.Z)(a && Ie.RareLabel) },
                (0, O.Xx)(
                  "#GamesList_Achievement_Unlock_Percentage",
                  t.player_percent_unlocked,
                ),
              ),
            ),
        );
      }
      const kt = {
          direction: "top",
          bEnablePointerEvents: !1,
          style: { width: void 0, height: void 0, minHeight: void 0 },
        },
        Pt = s.forwardRef(({ appid: e, achievement: t }, n) =>
          s.createElement(
            we.tl,
            {
              hoverContent: s.createElement(Dt, { appid: e, achievement: t }),
              hoverProps: kt,
            },
            s.createElement(Bt, { ref: n, achievement: t, appid: e }),
          ),
        );
      function xt(e) {
        var {
            children: t,
            remainderRenderer: n,
            totalItemOverride: i,
            itemPadding: r = 0,
          } = e,
          o = (0, a._T)(e, [
            "children",
            "remainderRenderer",
            "totalItemOverride",
            "itemPadding",
          ]);
        const [l, ...c] = t,
          m = (0, B.yU)((e) => {
            g(e.contentRect.width);
          }),
          d = (0, B.yU)((e) => {
            p(e.contentRect.width);
          }),
          [u, p] = (0, s.useState)(0),
          [_, g] = (0, s.useState)(0),
          f = null != i ? i : t.length;
        let h = t.length;
        if (_ && u) {
          let e = 1,
            n = _;
          for (; n < u; ) (n += r), n + _ <= u && ((n += _), e++);
          e < f && (h = Math.max(0, Math.min(t.length, e - 1)));
        }
        return s.createElement(
          "div",
          Object.assign({ ref: d }, o, {
            style: 0 === u || 0 === _ ? { opacity: 0 } : void 0,
          }),
          h > 0 && s.cloneElement(l, { ref: m }),
          h > 1 && c.slice(0, h - 1),
          h < f && n(f - h),
        );
      }
      function Ut({ game: e, visible: t, totalUnlocked: n }) {
        var a, i;
        const r = (function (e, t) {
            const n = (0, o.bY)(),
              a = E.Get(),
              s = a.GetProfileSteamId();
            return _({
              batchKey: ["TopAchievements", s, f.De.LANGUAGE],
              queryKey: [e.appid],
              queryFn: (e) => a.FetchTopAchievementsBatch(n, s, e),
              requestMatcher: (e, t) => e.appid === t.appid,
              batchDuration: 100,
              request: e,
              enabled: t,
            });
          })(e, t),
          l = `${h._.ProfileURL}stats/${e.appid}/?tab=achievements`;
        return (null ===
          (i =
            null === (a = r.data) || void 0 === a ? void 0 : a.achievements) ||
        void 0 === i
          ? void 0
          : i.length) > 0
          ? s.createElement(
              xt,
              {
                className: Ie.AchievementIcons,
                totalItemOverride: n,
                itemPadding: 8,
                remainderRenderer: (e) =>
                  s.createElement(
                    "a",
                    { href: l, className: Ie.Remainder },
                    "+",
                    e,
                  ),
              },
              r.data.achievements.map((t) =>
                s.createElement(Pt, {
                  appid: e.appid,
                  achievement: t,
                  key: `${t.statid}${t.bit}`,
                }),
              ),
            )
          : null;
      }
      function Tt({ game: e, visible: t, showTop: n }) {
        const a = N(e, t).data;
        if (!a) return null;
        if (0 === a.total) return null;
        const i = Math.floor((a.unlocked / a.total) * 100),
          r = (0, O.Xx)("#GamesList_Header_Achievements"),
          o = (0, O.Xx)("#GamesList_Achievement_Fraction", a.unlocked, a.total),
          l = `${h._.ProfileURL}stats/${e.appid}/?tab=achievements`;
        return s.createElement(
          s.Fragment,
          null,
          s.createElement(
            "div",
            { className: Ie.AchievementsProgress },
            s.createElement(
              "a",
              { className: Ie.AchievementsProgressLabel, href: l },
              r,
            ),
            s.createElement("span", { className: Ie.AchievementsFraction }, o),
            s.createElement(Re, {
              className: Ie.AchievementsProgressBar,
              animate: !1,
              nPercent: i,
            }),
          ),
          n &&
            s.createElement(Ut, {
              game: e,
              visible: t,
              totalUnlocked: a.unlocked,
            }),
        );
      }
      function Mt({ game: e, visible: t }) {
        const n = N(e, t).data;
        return n && t && n.total && n.unlocked === n.total
          ? s.createElement(
              "div",
              { title: (0, O.Xx)("#Perfect_Game_Description") },
              s.createElement(X.Gue, {
                fullcolor: !0,
                className: Ie.PerfectRibbon,
              }),
            )
          : null;
      }
      const Ft = () => {};
      function Ot({ links: e }) {
        return s.createElement(
          Ce.xV,
          { className: Ie.NavDropdownMenu },
          e.map((e) =>
            s.createElement(
              Ce.Zo,
              { onSelected: "action" in e ? () => e.action() : Ft, key: e.key },
              s.createElement(tn, { link: e }),
            ),
          ),
        );
      }
      function $t({ game: e }) {
        const t = Nt(e);
        return t.bIsLoading
          ? s.createElement(
              Ce.xV,
              { className: Ie.NavDropdownMenu },
              s.createElement(T.V, { size: "small", position: "center" }),
            )
          : s.createElement(Ot, { links: t.rgLinks });
      }
      const Ht = {
        bFitToWindow: !0,
        bOverlapHorizontal: !0,
        bMatchWidth: !1,
        bShiftToFitWindow: !0,
      };
      function Xt({ links: e, children: t, className: n }) {
        const a = (0, s.useRef)(null),
          i = (0, s.useCallback)(() => {
            (0, te.yV)(s.createElement(Ot, { links: e }), a.current, Ht);
          }, [a, e]);
        return s.createElement(
          k.s,
          {
            className: (0, F.Z)(Ie.NavButton, n),
            onActivate: i,
            ref: a,
            focusable: !0,
          },
          t,
        );
      }
      function Qt({ links: e, label: t, className: n, onClick: a }) {
        return s.createElement(x.gB, {
          rgOptions: e.map((e) => ({ label: e.label, data: e })),
          onMenuOpened: a,
          onChange: (e) => {
            "href" in e.data ? (location.href = e.data.href) : e.data.action();
          },
          strDefaultLabel: t,
          strClassName: (0, F.Z)(Ie.GamepadNavigationDropdown, n),
          strDropDownButtonClassName: Ie.GamepadNavigationDropdownButton,
          highlightOnFocus: !0,
        });
      }
      function jt({ game: e, setLinkData: t }) {
        const n = Nt(e);
        return (
          (0, s.useEffect)(() => {
            t(n.rgLinks);
          }, [t, n.rgLinks]),
          null
        );
      }
      function Zt({ game: e }) {
        const t = w(),
          n = (0, O.Xx)(
            t ? "#Community_GameContentFirstPerson" : "#Community_GameContent",
          ),
          [a, i] = (0, s.useState)([]),
          [r, o] = (0, s.useState)(!1);
        return s.createElement(
          s.Fragment,
          null,
          s.createElement(Qt, { links: a, label: n, onClick: () => o(!0) }),
          r && s.createElement(jt, { game: e, setLinkData: i }),
        );
      }
      function qt(e) {
        const { game: t, children: n } = e,
          a = w();
        return s.createElement(
          "div",
          { className: Ie.GameLinks },
          a && s.createElement(zt, { game: t }),
          n,
        );
      }
      function zt(e) {
        const { game: t } = e,
          n = ft(t.appid),
          a = vt(t.appid);
        return !0 !== n
          ? null
          : s.createElement(
              k.s,
              {
                className: (0, F.Z)(
                  Ie.AppPrivateIndicator,
                  Ie.GameLinksButton,
                  Ie.NavButton,
                ),
                onActivate: () => a.mutate(!1),
              },
              s.createElement(H.dQJ, null),
            );
      }
      function Yt({ game: e }) {
        const t = St(e);
        return (0, f.id)()
          ? s.createElement(Qt, {
              links: t,
              label: (0, O.Xx)("#Community_GameLinks"),
            })
          : s.createElement(
              Xt,
              { links: t, className: Ie.GameLinksButton },
              s.createElement(H.bbz, null),
            );
      }
      function Wt({ game: e }) {
        const t = It(e),
          n = w(),
          a = (0, f.id)();
        if (0 === t.length) return null;
        const i = (0, O.Xx)(
          n ? "#Community_GameStatsFirstPerson" : "#Community_GameStats",
        );
        return a
          ? s.createElement(Qt, { links: t, label: i })
          : s.createElement(
              Xt,
              { links: t, className: Ie.StatLinks },
              s.createElement("span", null, " ", i, " "),
              s.createElement(K, null),
            );
      }
      function Vt({ game: e }) {
        const t = (0, s.useRef)(null),
          n = (0, o.P9)(),
          a = (0, s.useCallback)(() => {
            (0, te.yV)(
              s.createElement(
                o.Ub,
                {
                  useActiveSteamInterface: n.useActiveSteamInterface,
                  useStorage: n.useStorage,
                },
                s.createElement($t, { game: e }),
              ),
              t.current,
              Ht,
            );
          }, [t, e, n]),
          i = w(),
          r = (0, f.id)(),
          l = (0, O.Xx)(
            i ? "#Community_GameContentFirstPerson" : "#Community_GameContent",
          );
        return r
          ? s.createElement(Zt, { game: e })
          : s.createElement(
              k.s,
              {
                className: (0, F.Z)(Ie.NavButton, Ie.ContentLinks),
                onActivate: a,
                ref: t,
              },
              s.createElement("span", null, " ", l, " "),
              s.createElement(K, null),
            );
      }
      function Kt({ label: e, children: t }) {
        return s.createElement(
          "details",
          { className: Ie.BottomSheetSection },
          s.createElement("summary", null, e, s.createElement(K, null)),
          s.createElement("div", { className: Ie.SectionContent }, t),
        );
      }
      function Jt({ game: e }) {
        const t = It(e);
        return 0 === t.length
          ? null
          : s.createElement(
              Kt,
              { label: (0, O.Xx)("#Community_GameStats") },
              t.map((e) =>
                s.createElement(tn, {
                  key: e.key,
                  link: e,
                  className: Ie.BottomSheetLink,
                }),
              ),
            );
      }
      function en({ game: e }) {
        const t = Nt(e);
        return 0 === t.rgLinks.length
          ? null
          : s.createElement(
              Kt,
              { label: (0, O.Xx)("#Community_GameContent") },
              t.rgLinks.map((e) =>
                s.createElement(tn, {
                  key: e.key,
                  link: e,
                  className: Ie.BottomSheetLink,
                }),
              ),
            );
      }
      function tn(e) {
        const { link: t, className: n } = e;
        let a;
        return (
          (a =
            "href" in t
              ? s.createElement("a", { className: n, href: t.href }, t.label)
              : s.createElement(
                  "span",
                  { className: n, onClick: () => t.action },
                  t.label,
                )),
          t.tooltip &&
            (a = s.createElement(M.HP, { toolTipContent: t.tooltip }, a)),
          a
        );
      }
      function nn({ game: e }) {
        const t = St(e);
        return 0 === t.length
          ? null
          : s.createElement(
              Kt,
              { label: (0, O.Xx)("#GamesList_MenuLabel_GameInfo") },
              t.map((e) =>
                s.createElement(tn, {
                  key: e.key,
                  link: e,
                  className: Ie.BottomSheetLink,
                }),
              ),
            );
      }
      function an({ game: e }) {
        const t = w(),
          n = (function () {
            const e = Te();
            return e
              ? (0, O.Xx)(
                  "#GamesList_Client_Indicator",
                  Fe(e.device_type),
                  e.machine_name,
                )
              : null;
          })();
        return t && n
          ? s.createElement(
              Kt,
              { label: (0, O.Xx)("#GamesList_MenuLabel_RemoteDownload") },
              s.createElement("span", { className: Ie.ClientName }, n),
              s.createElement(Ke, {
                game: e,
                className: Ie.BottomSheetRemoteControls,
                visible: !0,
                enableDownloadBar: !0,
              }),
            )
          : null;
      }
      function sn({ tab: e }) {
        const t = dn().openGame,
          n = mn(),
          a = (0, s.useRef)(null);
        (0, s.useEffect)(() => {
          var e;
          a.current &&
            (null === (e = a.current.querySelector("summary")) ||
              void 0 === e ||
              e.focus());
        }, [t]);
        const i = R(t);
        if (!t) return null;
        const r =
          f.De.STORE_ICON_BASE_URL +
          `/${t.appid}/${t.capsule_filename || "library_600x900.jpg"}`;
        return s.createElement(
          "div",
          {
            className: (0, F.Z)(
              Ie.BottomSheetContainer,
              i && Ie.HasAdultContent,
            ),
            role: "dialog",
            "aria-modal": "true",
            onKeyDown: (e) => {
              "Escape" === e.key && n(void 0);
            },
          },
          s.createElement("div", {
            className: Ie.BottomSheetOverlay,
            onClick: (e) => {
              e.preventDefault(), e.stopPropagation(), n(void 0);
            },
          }),
          s.createElement(
            "div",
            { className: Ie.BottomSheet, ref: a },
            s.createElement(
              "div",
              { className: Ie.GameInfo },
              s.createElement(
                "div",
                { className: Ie.BlurredBackground },
                s.createElement("img", { src: r, alt: t.name }),
              ),
              s.createElement("img", {
                src: r,
                alt: t.name,
                className: Ie.Portrait,
              }),
              s.createElement(
                "div",
                { className: Ie.Facts },
                s.createElement("span", { className: Ie.GameTitle }, t.name),
                s.createElement(rn, { game: t, visible: !0, tab: e }),
              ),
            ),
            s.createElement(en, { game: t }),
            s.createElement(Jt, { game: t }),
            s.createElement(nn, { game: t }),
            s.createElement(an, { game: t }),
          ),
        );
      }
      function rn({ game: e, visible: t, tab: n }) {
        const a = w(),
          i = R(e),
          r = Lt(),
          o = n !== it.All && !(r && n === it.RecentlyPlayed);
        return s.createElement(
          "div",
          { className: Ie.Playtime },
          n === it.RecentlyPlayed &&
            !!e.playtime_2weeks &&
            s.createElement(
              "span",
              { className: Ie.Hours2weeks },
              s.createElement(
                "span",
                { className: Ie.FactLabel },
                (0, O.Xx)("#GamesList_Header_TwoWeeks"),
              ),
              (0, Ae.W)(e.playtime_2weeks),
            ),
          !!e.playtime_forever &&
            s.createElement(
              "span",
              { className: Ie.Hours },
              s.createElement(
                "span",
                { className: Ie.FactLabel },
                (0, O.Xx)("#GamesList_Header_TotalPlayed"),
              ),
              (0, Ae.W)(
                e.playtime_forever +
                  (e.playtime_disconnected ? e.playtime_disconnected : 0),
              ),
            ),
          n !== it.RecentlyPlayed &&
            a &&
            !!e.rtime_last_played &&
            s.createElement(
              "span",
              { className: Ie.LastPlayed },
              s.createElement(
                "span",
                { className: Ie.FactLabel },
                (0, O.Xx)("#GamesList_Header_LastPlayed"),
              ),
              (0, O.m9)(e.rtime_last_played),
            ),
          !i &&
            s.createElement(
              "div",
              { className: Ie.AchievementContainer },
              s.createElement(Tt, { game: e, visible: t, showTop: o }),
            ),
        );
      }
      function on({ game: e }) {
        const t = Lt(),
          [n, a] = (0, s.useState)(0),
          i = [
            `${f.De.STORE_ICON_BASE_URL}${e.appid}/${e.capsule_filename || "library_600x900.jpg"}`,
            `${f.De.STORE_ICON_BASE_URL}${e.appid}/portrait.png`,
            mt,
          ],
          r = [`${f.De.STORE_ICON_BASE_URL}${e.appid}/header.jpg`, mt],
          o = t ? i[n] === mt : r[n] === mt;
        return s.createElement(
          s.Fragment,
          null,
          s.createElement(
            "picture",
            { onError: () => a((e) => e + 1) },
            s.createElement("source", {
              media: `(max-width: ${Ne.MobileBreakpoint})`,
              srcSet: i[n],
            }),
            s.createElement("img", { src: r[n], alt: e.name, loading: "lazy" }),
          ),
          o && s.createElement("span", { className: Ie.FallbackTitle }, e.name),
        );
      }
      function ln({ game: e, hasEverBeenVisible: t }) {
        const n = Lt();
        return s.createElement(
          "div",
          { className: Ie.PortraitContainer },
          s.createElement(on, { game: e }),
          !n && s.createElement(Mt, { game: e, visible: t }),
        );
      }
      const cn = s.memo(function ({ game: e, top: t, tab: n }) {
        const a = `${f.De.STORE_BASE_URL}app/${e.appid}`,
          i = w(),
          r = Lt(),
          o = mn(),
          l = r ? "button" : ae.eh,
          c = r ? () => o(e) : void 0,
          [m, d] = (0, s.useState)(!1),
          u = (0, B.S1)(
            (0, s.useCallback)((e) => {
              e.isIntersecting && d(!0);
            }, []),
            { rootMargin: "600px" },
          ),
          p = R(e),
          _ = (0, f.id)(),
          g = r ? "div" : ne.IS,
          h = r ? "span" : "a";
        return s.createElement(
          "div",
          {
            className: (0, F.Z)(
              Ie.GamesListItemContainer,
              p && Ie.HasAdultContent,
            ),
            style: { top: `${t}px` },
            ref: u,
          },
          s.createElement(
            l,
            {
              className: (0, F.Z)(Ie.GamesListItem, e.changing && Ie.Changing),
              onClick: c,
            },
            s.createElement(
              g,
              { href: a, className: Ie.GameItemPortrait },
              s.createElement(ln, { game: e, hasEverBeenVisible: m }),
            ),
            s.createElement(
              "span",
              { className: Ie.GameNameContainer },
              s.createElement(h, { href: a, className: Ie.GameName }, e.name),
            ),
            s.createElement(rn, { game: e, visible: m, tab: n }),
            !r &&
              s.createElement(
                s.Fragment,
                null,
                s.createElement(
                  "div",
                  { className: Ie.Buttons },
                  s.createElement(Wt, { game: e }),
                  s.createElement(Vt, { game: e }),
                  _ && s.createElement(Yt, { game: e }),
                ),
                !_ &&
                  s.createElement(
                    qt,
                    { game: e },
                    s.createElement(Yt, { game: e }),
                  ),
              ),
            i &&
              !r &&
              s.createElement(Ke, {
                className: Ie.DownloadStatus,
                game: e,
                visible: m,
              }),
            r && s.createElement(Mt, { game: e, visible: m }),
          ),
          i && s.createElement(Ve, { game: e, visible: m }),
        );
      });
      function mn() {
        return dn().fnSetOpenGame;
      }
      function dn() {
        const e = (0, s.useContext)(un);
        if (!e)
          throw new Error(
            "attempted to use BottomSheetContext outside of provider",
          );
        return e;
      }
      const un = s.createContext(void 0);
      function pn({ children: e }) {
        const [t, n] = (0, s.useState)(void 0);
        return s.createElement(
          un.Provider,
          { value: { openGame: t, fnSetOpenGame: n } },
          e,
        );
      }
      const _n = new Set();
      function gn(e) {
        _n.add(e);
      }
      const fn = new Set();
      function hn({ games: e, tab: t, fnCalculateGameSize: n }) {
        const [a, i] = (0, s.useMemo)(() => {
          let t = 0;
          const a = e.map((e) => {
            const a = n(e);
            return (t += a), a;
          });
          return [t, a];
        }, [e, n]);
        !(function () {
          const e = (0, s.useRef)(!1);
          (0, s.useEffect)(() => {
            var t;
            if (e.current) return;
            const n =
              null === (t = history.state) || void 0 === t ? void 0 : t.scrollY;
            n && window.scroll({ top: n }), (e.current = !0);
          }, []),
            (0, s.useEffect)(() => {
              let e;
              const t = () => {
                e && clearTimeout(e),
                  (e = setTimeout(() => {
                    var e;
                    history.replaceState(
                      Object.assign(
                        Object.assign(
                          {},
                          null !== (e = history.state) && void 0 !== e ? e : {},
                        ),
                        { scrollY: window.scrollY },
                      ),
                      "",
                    );
                  }, 100));
              };
              return (
                addEventListener("scroll", t, { passive: !0 }),
                () => {
                  removeEventListener("scroll", t), e && clearTimeout(e);
                }
              );
            }, []);
        })();
        const r = (0, s.useRef)(null);
        let o = 0;
        return s.createElement(
          k.s,
          { ref: r, className: Ie.List, style: { height: a }, autoFocus: !0 },
          s.createElement(
            yn,
            {
              disableContinuousRender: e.length > 1024,
              batchSize: 16,
              containerRef: r,
              childSizes: i,
            },
            e.map((e, n) => {
              const a = o;
              return (
                (o += i[n]),
                s.createElement(cn, { game: e, key: e.appid, top: a, tab: t })
              );
            }),
          ),
        );
      }
      function vn() {
        return (0, a.mG)(this, void 0, void 0, function* () {
          return new Promise((e) => {
            setTimeout(e, 0);
          });
        });
      }
      function yn({
        children: e,
        batchSize: t,
        containerRef: n,
        childSizes: i,
        disableContinuousRender: r,
      }) {
        const [o] = (0, s.useState)([]);
        return (
          (0, s.useEffect)(() => {
            if (r) return () => {};
            let e = !1;
            return (
              (function () {
                var n;
                (0, a.mG)(this, void 0, void 0, function* () {
                  for (let a = 0; a < o.length + t; a += t) {
                    for (let s = a; s < a + t; s++) {
                      if (e) return;
                      null === (n = o[s]) || void 0 === n || n.call(o, !0);
                    }
                    yield vn();
                  }
                });
              })(),
              () => {
                e = !0;
              }
            );
          }, [o, t, e.length, r]),
          (0, s.useEffect)(() => {
            if (!n || !i) return () => {};
            function e() {
              let e = null == t ? void 0 : t.getBoundingClientRect().top;
              e > 0 && (e = 0);
              const n = Math.ceil(window.innerHeight / i[0]);
              let a = 0,
                s = 0;
              for (; a > e; ) (a -= i[s]), s++;
              const r = s - n,
                l = r + 3 * n;
              for (let e = r; e < l; e++)
                setTimeout(() => {
                  var t;
                  null === (t = o[e]) || void 0 === t || t.call(o, !0);
                }, 0);
            }
            const t = n.current;
            return (
              null == t ||
                t.ownerDocument.defaultView.addEventListener("scroll", e),
              e(),
              () => {
                null == t ||
                  t.ownerDocument.defaultView.removeEventListener("scroll", e);
              }
            );
          }, [e.length, e, n, i, t, o]),
          s.createElement(
            s.Fragment,
            null,
            e.map((e, t) =>
              s.createElement(En, { key: e.key, index: t, renderers: o }, e),
            ),
          )
        );
      }
      function En({ renderers: e, index: t, children: n }) {
        const [a, i] = (0, s.useState)(!1);
        return (e[t] = i), a ? s.createElement(s.Fragment, null, n) : null;
      }
      const bn = s.createContext(void 0);
      function Cn({ query: e, isLoading: t, tab: n }) {
        var a;
        const i = de(),
          r = (function (e) {
            const t = Te(),
              n = ge(void 0, !1).rgQueries.find((e) => {
                var n;
                return (
                  (null === (n = e.data) || void 0 === n
                    ? void 0
                    : n.session.client_instanceid) ===
                  (null == t ? void 0 : t.client_instanceid)
                );
              });
            return (0, s.useMemo)(() => {
              var t;
              const a = new Set();
              if (null == n ? void 0 : n.data)
                for (const e of n.data.mapApps.values())
                  (fn.has(e.appid) || (!_n.has(e.appid) && ze(e))) &&
                    (a.add(e.appid), fn.add(e.appid));
              const s = [],
                i = [];
              return (
                null === (t = e.data) ||
                  void 0 === t ||
                  t.forEach((e) => {
                    a.has(e.appid)
                      ? s.push(
                          Object.assign(Object.assign({}, e), { changing: !0 }),
                        )
                      : i.push(e);
                  }),
                { data: [...s, ...i], isLoading: e.isLoading, error: e.error }
              );
            }, [e.data, e.isLoading, e.error, null == n ? void 0 : n.data]);
          })(e),
          [o, l] = (0, s.useState)({}),
          c = (0, s.useCallback)((e, t) => {
            l((n) => Object.assign(Object.assign({}, n), { [e]: t }));
          }, []),
          m = (0, s.useCallback)((e) => (o[e.appid] ? wt + Gt : wt), [o]);
        return r.isLoading || i.isLoading || t
          ? s.createElement(T.V, {
              string: (0, O.Xx)("#Loading"),
              position: "center",
            })
          : 0 === (null === (a = r.data) || void 0 === a ? void 0 : a.length) &&
              n === it.Perfect
            ? s.createElement(
                "p",
                { className: Ie.emptyDescription },
                (0, O.Xx)("#GamesList_PerfectGames_Description"),
              )
            : s.createElement(
                bn.Provider,
                { value: c },
                !f.De.IN_CLIENT && s.createElement(He, null),
                s.createElement(hn, {
                  games: r.data,
                  tab: n,
                  fnCalculateGameSize: m,
                }),
              );
      }
      function Gn(e) {
        return wt;
      }
      function wn({ query: e, isLoading: t, tab: n }) {
        return void 0 === e.data || t
          ? null
          : s.createElement(hn, {
              games: e.data,
              tab: n,
              fnCalculateGameSize: Gn,
            });
      }
      const Ln = (0, Ge.AP)(
          ({ owned: e, filter: t, dependencyLoading: n, sort: a, tab: i }) => {
            const r = st(j(e, t), a),
              o = w(),
              l = r.isLoading || n;
            if (r.error && !l) throw r.error;
            return s.createElement(
              pn,
              null,
              s.createElement(sn, { tab: i }),
              o
                ? s.createElement(Cn, { query: r, isLoading: l, tab: i })
                : s.createElement(wn, { query: r, isLoading: l, tab: i }),
            );
          },
        ),
        Rn = [
          {
            label: (0, O.Xx)("#GamesList_Sort_HoursPlayed"),
            sortOption: Je.HoursPlayed,
          },
          { label: (0, O.Xx)("#GamesList_Sort_Name"), sortOption: Je.Name },
          {
            label: (0, O.Xx)("#GamesList_Sort_AchievementCompletion"),
            sortOption: Je.AchievementCompletion,
          },
        ];
      function An({ strSort: e, setStrSort: t }) {
        return s.createElement(
          "ul",
          { className: $.SortOptions },
          Rn.map((n) =>
            s.createElement(
              "li",
              { key: n.sortOption },
              s.createElement(
                "button",
                {
                  className: (0, F.Z)(
                    $.SortOption,
                    e === n.sortOption && $.SelectedSort,
                  ),
                  onClick: () => t(n.sortOption),
                },
                n.label,
              ),
            ),
          ),
        );
      }
      function Nn() {
        const [e, t] = (0, U.Ar)("games_in_common", !1);
        return s.createElement(
          "label",
          { className: $.BothOwnedFilter },
          (0, O.Xx)("#GamesList_Filter_BothOwned"),
          s.createElement("input", {
            type: "checkbox",
            checked: e,
            onChange: (e) => t(e.target.checked),
          }),
        );
      }
      function In() {
        return s.createElement(
          M.HP,
          {
            toolTipContent: (0, O.Xx)("#GamesList_PrivacySettings_Tooltip"),
            "aria-label": (0, O.Xx)("#GamesList_PrivacySettings_Tooltip"),
            className: $.PrivacySettingsLink,
          },
          s.createElement(
            "a",
            { href: `${h._.ProfileURL}edit/settings` },
            s.createElement(J, null),
          ),
        );
      }
      function Sn(e) {
        const t = new Set();
        return null == e || e.forEach((e) => t.add(e.appid)), t;
      }
      function Bn(e, t, n) {
        const [a, s] = (0, U.Ar)(e, n);
        let i = a;
        return Object.values(t).includes(a) || (i = n), [i, s];
      }
      function Dn(e, t) {
        return (0, s.useMemo)(() => {
          var n;
          return {
            data: null === (n = e.data) || void 0 === n ? void 0 : n.concat(t),
            isLoading: e.isLoading,
            error: e.error,
          };
        }, [e.data, e.isLoading, e.error, t]);
      }
      function kn({ children: e }) {
        return (0, f.id)() ? s.createElement(x.vY, null, e) : e;
      }
      function Pn(e) {
        const t = G(),
          [n, a] = Bn("sort", Je, Je.HoursPlayed),
          [i, r] = Bn("tab", it),
          o = null != i ? i : it.RecentlyPlayed,
          [l, c, m] = (function (e, t) {
            const [n, a] = (0, s.useState)(e),
              [i, r] = (0, s.useState)(e);
            return (
              (0, s.useEffect)(() => {
                if (t < 1) return r(n), () => {};
                const e = setTimeout(() => r(n), t);
                return () => clearTimeout(e);
              }, [n, t]),
              [n, i, a]
            );
          })(void 0, 100),
          d = o === it.RecentlyPlayed,
          u = (0, s.useCallback)(
            (e) => {
              var t;
              return (
                !(c && !d) ||
                (null === (t = e.name) || void 0 === t
                  ? void 0
                  : t.toLowerCase().includes(c.toLowerCase()))
              );
            },
            [c, d],
          ),
          p = A(t),
          _ = (0, s.useCallback)(
            (e) =>
              !!p.data &&
              p.data.some(
                (t) =>
                  t.appid === e.appid &&
                  0 !== t.unlocked &&
                  t.unlocked === t.total,
              ),
            [p.data],
          ),
          [g] = (0, U.Ar)("games_in_common", !1),
          h = g && o === it.All,
          v = (function (e) {
            const t = b(f.L7.steamid, { enabled: e });
            return (0, s.useMemo)(
              () => ({ data: Sn(t.data), isLoading: t.isLoading }),
              [t.data, t.isLoading],
            );
          })(h),
          y = (0, s.useCallback)(
            (e) => {
              var t;
              return (
                !h ||
                (null === (t = v.data) || void 0 === t
                  ? void 0
                  : t.has(e.appid))
              );
            },
            [h, v],
          ),
          C = b(t),
          L = E.Get().GetPerfectUnownedGames(),
          R = E.Get().GetRecentlyPlayedUnownedGames(),
          N = Dn(j(C, _, p.isLoading), L),
          I = Dn(j(C, q), R);
        (0, s.useEffect)(() => {
          !i && I.data && 0 === I.data.length && r(it.All);
        }, [i, I.data, r]);
        const S = w(),
          B = (0, f.id)();
        let x = C;
        o === it.RecentlyPlayed ? (x = I) : o === it.Perfect && (x = N),
          (0, s.useEffect)(() => {
            _n.clear();
          }, [o]);
        const M = lt(o, C, I, N),
          H = (function (...e) {
            return (0, s.useCallback)((t) => {
              for (const n of e) if (n && !n(t)) return !1;
              return !0;
            }, e);
          })(c && u, h && y),
          X = (0, F.Z)($.Gameslistapp, B && "GamepadMode"),
          Q = (0, P.L)(),
          Z = n === Je.AchievementCompletion && p.isLoading,
          Y = x.isLoading || Z;
        return s.createElement(
          D.p,
          { navID: "Gamelist", NavigationManager: Q },
          s.createElement(
            Me,
            null,
            s.createElement(
              kn,
              null,
              s.createElement(
                k.s,
                { className: X },
                Y &&
                  s.createElement(T.V, {
                    string: (0, O.Xx)("#Loading"),
                    position: "center",
                  }),
                !Y &&
                  s.createElement(
                    s.Fragment,
                    null,
                    s.createElement(ct, { tabs: M, strTab: o, setStrTab: r }),
                    o !== it.RecentlyPlayed &&
                      s.createElement(
                        "div",
                        { className: $.DisplayControls },
                        s.createElement(z, {
                          strNameFilter: l,
                          setStrNameFilter: m,
                          className: $.FilterInput,
                        }),
                        S && s.createElement(In, null),
                        !S && o === it.All && s.createElement(Nn, null),
                        s.createElement(An, { strSort: n, setStrSort: a }),
                      ),
                  ),
                s.createElement(Ln, {
                  owned: x,
                  filter: H,
                  sort: o === it.RecentlyPlayed ? Je.RecentlyPlayed : n,
                  dependencyLoading: Y,
                  tab: o,
                }),
              ),
            ),
          ),
        );
      }
      function xn(e) {
        const t = (0, B.kD)(s.useCallback(() => new S.Z(), []));
        return s.createElement(
          o.Ub,
          { useActiveSteamInterface: L, useStorage: t },
          s.createElement(Pn, Object.assign({}, e)),
        );
      }
    },
  },
]);
